<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f628065b851287e306e5.css" id="gatsby-global-css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.32.12"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><title data-react-helmet="true">앗, ReasonML의 분기문에서는 타입이 다른 데이터를 리턴할 수 없다고요?! | 그린랩스</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="자바스크립트에서는 함수나 분기문에서 타입이 다른 데이터를 리턴할 수 있는데, ReasonML에선 그럴 수 없습니다. 이 문제를 어떻게 해결할 수 있을까요?"/><meta data-react-helmet="true" name="image" content="https://green-labs.github.io/thumbnails/reasonml-ways-with-types.png"/><meta data-react-helmet="true" property="og:title" content="앗, ReasonML의 분기문에서는 타입이 다른 데이터를 리턴할 수 없다고요?!"/><meta data-react-helmet="true" property="og:url" content="https://green-labs.github.io/reasonml-ways-with-types"/><meta data-react-helmet="true" property="og:description" content="자바스크립트에서는 함수나 분기문에서 타입이 다른 데이터를 리턴할 수 있는데, ReasonML에선 그럴 수 없습니다. 이 문제를 어떻게 해결할 수 있을까요?"/><meta data-react-helmet="true" property="og:image" content="https://green-labs.github.io/thumbnails/reasonml-ways-with-types.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="자바스크립트에서는 함수나 분기문에서 타입이 다른 데이터를 리턴할 수 있는데, ReasonML에선 그럴 수 없습니다. 이 문제를 어떻게 해결할 수 있을까요?"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="앗, ReasonML의 분기문에서는 타입이 다른 데이터를 리턴할 수 없다고요?!"/><meta data-react-helmet="true" name="twitter:url" content="https://green-labs.github.io/reasonml-ways-with-types"/><meta data-react-helmet="true" name="twitter:description" content="자바스크립트에서는 함수나 분기문에서 타입이 다른 데이터를 리턴할 수 있는데, ReasonML에선 그럴 수 없습니다. 이 문제를 어떻게 해결할 수 있을까요?"/><meta data-react-helmet="true" name="twitter:image" content="https://green-labs.github.io/thumbnails/reasonml-ways-with-types.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="자바스크립트에서는 함수나 분기문에서 타입이 다른 데이터를 리턴할 수 있는데, ReasonML에선 그럴 수 없습니다. 이 문제를 어떻게 해결할 수 있을까요?"/><meta data-react-helmet="true" name="twitter:creator" content="그린랩스"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#29c389"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link as="script" rel="preload" href="/webpack-runtime-fba04978b290dcb56af8.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-5c5740e4aee247e819b3.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/a762775feeb6986a7626165c092554dd56475b59-903a849af2d4fe2b9e06.js"/><link as="script" rel="preload" href="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js"/><link as="fetch" rel="preload" href="/page-data/reasonml-ways-with-types/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="16ql9gk">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#2f855a);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);--theme-ui-colors-backtick:var(--theme-ui-colors-backtick,#2d3748);--theme-ui-colors-backtickBg:var(--theme-ui-colors-backtickBg,#edf2f7);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#48bb78);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);--theme-ui-colors-backtick:var(--theme-ui-colors-modes-dark-backtick,#edf2f7);--theme-ui-colors-backtickBg:var(--theme-ui-colors-modes-dark-backtickBg,#2d3748);}</style><style data-emotion-css="tm2q0o">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="kcr4c7">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="157bhr3">.css-157bhr3{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:740px;}@media screen and (min-width:640px){.css-157bhr3{padding:2rem;}}</style><div style="padding:1em" class="css-157bhr3"><style data-emotion-css="r5barg">.css-r5barg{margin-bottom:0.5rem;}@media screen and (min-width:640px){.css-r5barg{margin-bottom:1rem;}}</style><header class="css-r5barg"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="그린랩스 - 홈으로 돌아가기" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><div style="display:flex;align-items:center;flex-wrap:wrap" class="css-1kmktz0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="35" height="35" class="logo"><style>.logo_svg__st17{fill:#3bbd5a}</style><g id="logo_svg__\uB808\uC774\uC5B4_1"><path fill="#009943" d="M149.74 140.97l-34.8-71.71-2.48-5.11-19.89-40.99H57.78l22.37 46.1 17.39 35.86 19.88 40.98 14.91 30.73h.01l14.91-30.73h4.98z"></path><path class="logo_svg__st17" d="M67.72 94.87l-39.77 81.97h34.81l29.99-61.72-17.4-35.86zM177.36 146.1h-30.11l-14.91 30.73h34.8l10.22-21.07 4.69-9.66zM57.78 23.16l-14.9 30.72h34.79l14.9-30.72z"></path></g></svg><span style="margin-left:6px;font-size:1.2rem;font-weight:normal">그린랩스</span><span style="margin-left:6px;font-size:1.2rem;font-weight:bolder">기술 블로그</span></div></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div></header><style data-emotion-css="oiueqf">.css-oiueqf [data-name='live-editor']{font-size:1rem;}.css-oiueqf [data-name='live-editor'] textarea,.css-oiueqf [data-name='live-editor'] pre{padding:1rem !important;}.css-oiueqf [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#c0dacd;}.css-oiueqf .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-oiueqf .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-oiueqf .prism-code{font-size:1rem;}}.css-oiueqf .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-oiueqf .gatsby-highlight[data-language=''] .prism-code,.css-oiueqf .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-oiueqf .token{display:inline-block;}.css-oiueqf .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-oiueqf .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-oiueqf .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-oiueqf .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-oiueqf .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-oiueqf .gatsby-highlight pre code{float:left;min-width:100%;}.css-oiueqf .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-oiueqf .gatsby-highlight pre[class~="language-javascript"]:before,.css-oiueqf .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-oiueqf .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-oiueqf .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-oiueqf .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-oiueqf .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-oiueqf .gatsby-highlight pre[class~="language-py"]:before,.css-oiueqf .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-oiueqf .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-oiueqf .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-oiueqf .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-oiueqf .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-oiueqf .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-oiueqf .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-oiueqf .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-oiueqf .gatsby-highlight pre[class~='language-json']:before,.css-oiueqf .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-oiueqf .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-oiueqf .gatsby-highlight > code[class*="language-"],.css-oiueqf .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-oiueqf .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-oiueqf .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#2f855a);}.css-oiueqf .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-oiueqf .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-oiueqf .code-title{background-color:#c0dacd;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-oiueqf .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-oiueqf .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-oiueqf .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-oiueqf [data-name='live-preview'],.css-oiueqf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-oiueqf [data-name='live-preview'],.css-oiueqf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-oiueqf [data-name='live-preview'],.css-oiueqf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-oiueqf [data-name='live-preview'],.css-oiueqf [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-oiueqf .token-line{padding-right:1rem;}.css-oiueqf .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-oiueqf .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-oiueqf .react-live-wrapper{position:relative;}.css-oiueqf .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-oiueqf .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-oiueqf .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-oiueqf .react-live-wrapper .code-copy-button{right:-1rem;}}.css-oiueqf *{word-break:keep-all;word-wrap:break-word;}.css-oiueqf a{font-weight:700;}.css-oiueqf p{word-break:keep-all !important;}.css-oiueqf span{word-break:keep-all !important;}.css-oiueqf code span{font-size:16px !important;line-height:1rem !important;}.css-oiueqf pre[class~="language-reason"]:before{content:"res";background:#e6484f !important;color:white !important;font-weight:700;}.css-oiueqf pre[class~="language-res"]:before{content:"res";background:#e6484f !important;color:white !important;font-weight:700;}.css-oiueqf pre[class~="language-haskell"]:before{content:"haskell";background:#5e4f85 !important;color:white !important;font-weight:700;}.css-oiueqf pre[class~="language-java"]:before{content:"java";background:#e76f00 !important;color:white !important;font-weight:700;}.css-oiueqf pre[class~="language-clojure"]:before{content:"clojure";background:#5881d8 !important;color:white !important;font-weight:700;}.css-oiueqf .gatsby-resp-image-wrapper{box-shadow:none !important;margin-top:2rem !important;}</style><style data-emotion-css="1w867vf">.css-1w867vf{box-sizing:border-box;margin:0;min-width:0;}.css-1w867vf [data-name='live-editor']{font-size:1rem;}.css-1w867vf [data-name='live-editor'] textarea,.css-1w867vf [data-name='live-editor'] pre{padding:1rem !important;}.css-1w867vf [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#c0dacd;}.css-1w867vf .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-1w867vf .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1w867vf .prism-code{font-size:1rem;}}.css-1w867vf .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1w867vf .gatsby-highlight[data-language=''] .prism-code,.css-1w867vf .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1w867vf .token{display:inline-block;}.css-1w867vf .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1w867vf .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1w867vf .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1w867vf .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1w867vf .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1w867vf .gatsby-highlight pre code{float:left;min-width:100%;}.css-1w867vf .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1w867vf .gatsby-highlight pre[class~="language-javascript"]:before,.css-1w867vf .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1w867vf .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1w867vf .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1w867vf .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1w867vf .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-1w867vf .gatsby-highlight pre[class~="language-py"]:before,.css-1w867vf .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-1w867vf .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1w867vf .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1w867vf .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1w867vf .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1w867vf .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1w867vf .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1w867vf .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1w867vf .gatsby-highlight pre[class~='language-json']:before,.css-1w867vf .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1w867vf .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1w867vf .gatsby-highlight > code[class*="language-"],.css-1w867vf .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1w867vf .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1w867vf .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#2f855a);}.css-1w867vf .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-1w867vf .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1w867vf .code-title{background-color:#c0dacd;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1w867vf .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1w867vf .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1w867vf .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1w867vf [data-name='live-preview'],.css-1w867vf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1w867vf [data-name='live-preview'],.css-1w867vf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1w867vf [data-name='live-preview'],.css-1w867vf [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1w867vf [data-name='live-preview'],.css-1w867vf [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1w867vf .token-line{padding-right:1rem;}.css-1w867vf .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1w867vf .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1w867vf .react-live-wrapper{position:relative;}.css-1w867vf .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-1w867vf .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-1w867vf .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-1w867vf .react-live-wrapper .code-copy-button{right:-1rem;}}.css-1w867vf *{word-break:keep-all;word-wrap:break-word;}.css-1w867vf a{font-weight:700;}.css-1w867vf p{word-break:keep-all !important;}.css-1w867vf span{word-break:keep-all !important;}.css-1w867vf code span{font-size:16px !important;line-height:1rem !important;}.css-1w867vf pre[class~="language-reason"]:before{content:"res";background:#e6484f !important;color:white !important;font-weight:700;}.css-1w867vf pre[class~="language-res"]:before{content:"res";background:#e6484f !important;color:white !important;font-weight:700;}.css-1w867vf pre[class~="language-haskell"]:before{content:"haskell";background:#5e4f85 !important;color:white !important;font-weight:700;}.css-1w867vf pre[class~="language-java"]:before{content:"java";background:#e76f00 !important;color:white !important;font-weight:700;}.css-1w867vf pre[class~="language-clojure"]:before{content:"clojure";background:#5881d8 !important;color:white !important;font-weight:700;}.css-1w867vf .gatsby-resp-image-wrapper{box-shadow:none !important;margin-top:2rem !important;}</style><div id="skip-nav" class=" css-1w867vf"><style data-emotion-css="8o4giv">.css-8o4giv{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:3rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}</style><h1 style="font-size:36px" class="css-8o4giv">앗, ReasonML의 분기문에서는 타입이 다른 데이터를 리턴할 수 없다고요?!</h1><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>2020년 12월 21일</time> — <span>4<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="64lq4m">.css-64lq4m{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.8rem;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-64lq4m{font-size:1rem;}}@media screen and (min-width:768px){.css-64lq4m{font-size:16px;}}.css-64lq4m > code{color:var(--theme-ui-colors-backtick,#2d3748);background-color:var(--theme-ui-colors-backtickBg,#edf2f7);padding-left:0.25rem;padding-right:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}</style><p class="css-64lq4m">자바스크립트나 다른 동적 타입을 가진 언어에서는, 함수나 분기문에서 타입이 다른 데이터를 리턴하는 것이 자연스럽습니다.
하지만 ReasonML에서는 항상 같은 데이터 타입이 리턴되어야 합니다. 처음 ReasonML을 접하게 되면 이런 타입 시스템의 특성 때문에 당황하실 수 있습니다. 코드 예시를 통해 바로 확인해보겠습니다.</p><style data-emotion-css="1k3503y">.css-1k3503y{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:4rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1k3503y{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1k3503y{font-size:1.875rem;}}@media screen and (min-width:1024px){.css-1k3503y{font-size:1.875rem;}}</style><h2 class="css-1k3503y">자바스크립트 vs. ReasonML</h2><p class="css-64lq4m">아래의 test 함수는 인자가 숫자(number)일 때는 숫자를, 문자열일때는 문자열을, 그 외에는 <code class="css-0">{foo: &quot;bar&quot;}</code>라는 객체를 반환합니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><style data-emotion-css="apvfmm">.css-apvfmm{display:none;background-color:rgba(47,133,90,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-apvfmm{font-size:14px;}}@media screen and (min-width:768px){.css-apvfmm{font-size:16px;}}.css-apvfmm[disabled]{cursor:not-allowed;}.css-apvfmm:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#2f855a);color:var(--theme-ui-colors-white,#fff);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<style data-emotion-css="1gy8470">.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">test</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">typeof</span><span class="token plain"> input </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">typeof</span><span class="token plain"> input </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> foo</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;bar&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  1  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;hello world!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  hello world!  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  {foo: &quot;bar&quot;}  */</span></div></code></pre></div><p class="css-64lq4m">혹은 각 분기문마다 같은 타입의 다른 필드를 가진 객체를 리턴 할 수도 있습니다.
아래의 함수는 인자가 참일 때는 <code class="css-0">{foo: &quot;bar&quot;}</code>를, 거짓일 때는 <code class="css-0">{hello: &quot;world&quot;}</code>를 반환합니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> foo</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;bar&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> hello</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;world&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  OK  */</span></div></code></pre></div><p class="css-64lq4m">하지만 ReasonML에선 안전한(sound) 타입 시스템을 위해 모든 분기문의 리턴값은 반드시 한 타입으로 정해져 있습니다.
위의 <code class="css-0">{foo: &quot;bar&quot;}</code>와 <code class="css-0">{hello: &quot;world&quot;}</code>는 다른 타입으로 간주되어 컴파일이 실패합니다.
하나의 예시를 더 보겠습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  ReasonML에선 마지막 표현식이 리턴으로 간주됩니다.*/</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m">결과는 아래와 같습니다.</p><div class="gatsby-highlight" data-language="console"><pre class="prism-code language-console" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-console"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">This has type: string</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">Somewhere wanted: int</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">You can convert string to int with Belt.Int.fromString.</span></div></code></pre></div><p class="css-64lq4m">타입이 객체인 경우 세부 모든 세부 필드의 값이 일치해야(구조적 타입) 오류가 나지 않습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;world&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m">결과는 마찬가지로 컴파일 오류입니다.</p><div class="gatsby-highlight" data-language="console"><pre class="prism-code language-console" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-console"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">This has type: {. &quot;hello&quot;: string}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  Somewhere wanted: {. &quot;foo&quot;: string}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  The second object type has no method hello</span></div></code></pre></div><p class="css-64lq4m">하지만 개발을 하다보면 다른 객체를 반환하는 것이 꼭 필요한 경우가 생깁니다. 아래의 예시처럼요.</p><h2 class="css-1k3503y">현업에서 마주친 상황</h2><p class="css-64lq4m">그린랩스에선 프리즈마(Prisma)<sup id="fnref-1"><style data-emotion-css="h4jr85">.css-h4jr85{color:var(--theme-ui-colors-primary,#2f855a);-webkit-text-decoration:none;text-decoration:none;}.css-h4jr85:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#fn-1" class="footnote-ref css-h4jr85">1</a></sup> 라는 DB 클라이언트를 사용하여 백엔드 개발을 하고 있습니다.
프리즈마는 ORM처럼 고유의 문법을 사용하며, 중첩된 객체들로 관계형 쿼리를 표현할 수 있습니다. <sup id="fnref-2"><a href="#fn-2" class="footnote-ref css-h4jr85">2</a></sup> 아래는 간략화된 실제 코드입니다.
isHeavy 라는 bool 변수의 값에 따라 참일 경우 20kg보다 무거운 수박을, 거짓일 경우 20kg과 같거나 가벼운 수박을 조회하는 함수입니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">  수박 중에서, 조건(isHeavy)에 따라</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">  20kg보다 무겁거나, 20kg과 같거나 작은 모든 데이터를 리턴해라</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">await</span><span class="token plain"> prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">watermelon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">findMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  where</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> isHeavy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> weight</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> gt</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> weight</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> lte</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">위 코드를 ReasonML로 옮기면 아래와 같습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">watermelon</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">findMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;where&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    isHeavy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">      </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">          </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">          </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">하지만 위의 ReasonML 코드는 컴파일이 실패하고 아래의 오류가 뜹니다.</p><div class="gatsby-highlight" data-language="console"><pre class="prism-code language-console" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-console"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">Error:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">This expression has type {. &quot;weight&quot;: {. &quot;lte&quot;: int}}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">but an expression was expected of type {. &quot;weight&quot;: {. &quot;gt&quot;: int}}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">The second object type has no method lte</span></div></code></pre></div><p class="css-64lq4m">ReasonML의 객체 타입 추론은 재귀적으로 작동하여 중첩된 필드까지 전부 검사합니다.
얼핏 보면 똑같은 <code class="css-0">{&quot;weight&quot;:...}</code> 객체처럼 보일 수 있지만, 그 안에 하나는 gt라는 키를, 다른 하나는 lte라는 키를 가진 서로 다른 객체이기에 컴파일이 안되는 것이죠.
그럼 이 문제를 어떻게 해결할까요?</p><style data-emotion-css="k3mtc7">.css-k3mtc7{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-k3mtc7{font-size:1.5rem;}}@media screen and (min-width:768px){.css-k3mtc7{font-size:1.5rem;}}@media screen and (min-width:1024px){.css-k3mtc7{font-size:1.5rem;}}</style><h3 class="css-k3mtc7">해결 방안 1 - <!-- -->[%raw]<!-- -->로 JS코드 직접 넣기</h3><p class="css-64lq4m">[%raw]<!-- -->를 쓰면 <strong class="css-0">JS 코드를 직접 삽입</strong>하고 타입 검사를 피할 수 있습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">%raw </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;hello world!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* Js.log(&quot;hello world!) 와 동일*/</span></div></code></pre></div><p class="css-64lq4m">아래는 <!-- -->[%raw]<!-- -->를 적용해본 예시입니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">watermelon </span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Prisma</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">findMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">%raw </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> isHeavy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">위의 코드가 컴파일되면 %raw 안의 구문이 그대로 Js 코드가 되어 나옵니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">isHeavy </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> weight</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> gt</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> weight</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> lte</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3 class="css-k3mtc7">해결 방안 2 - Obj.magic 컴파일러 속이기</h3><p class="css-64lq4m"><code class="css-0">Obj.magic</code>은 ReasonML 내장함수 중 하나로, 마술(magic)이라는 이름처럼 교묘한 트릭으로 코드를 왜곡합니다. 아래처럼 사용할 수 있습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">isHeavy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">gt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">magic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* 컴파일러가 체크하지 않음! */</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">lte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">Obj.magic는 OCaml의 %identity의 바인딩인데요, %identity는 컴파일러에게 &#x27;값이 동일하더라도 타입을 다르게 인식해라&#x27;라고 말하는 역할을 합니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">external</span><span class="token plain"> magic </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;</span><span class="token plain">a </span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;</span><span class="token plain">b </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;%identity&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">따라서 <code class="css-0">{lte ...}</code> 는 사실상 <code class="css-0">{gt ...}</code>와 같은 타입으로 인식되어 위의 문제를 회피할 수 있습니다.
그러나 위 두 방법은 안전하게(sound) 느껴지지 않습니다. 다른 언어를 직접 사용하거나 컴파일러를 속이지 않고, ReasonML 안전한 방법으로 해결할 수는 없을까요?</p><h3 class="css-k3mtc7">해결 방안 3 - Js.Dict</h3><p class="css-64lq4m">조금 더 나은 방법으로는 Js.Dict를 사용해 볼 수 있습니다.</p><p class="css-64lq4m">Js.Dict는 ReasonML에서 사용할 수 있는 Dictionary 모듈입니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> test </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">test</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">test</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* =&gt; {foo: &quot;bar&quot;} */</span></div></code></pre></div><p class="css-64lq4m"><a href="https://rescript-lang.org/docs/manual/latest/api/js/dict" class="css-h4jr85">공식문서</a>에 다양한 쓰임이 나와 있으니 참고하세요.</p><p class="css-64lq4m">Js.Dict를 사용하여 조건에 따라 gt 혹은 lte를 리턴하는 conditionFunc를 만들었습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> conditionFunc </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isHeavy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  isHeavy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> result</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> result</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">conditionFunc를 호출하여 콘솔에 찍어보면, 우리가 원했던 객체가 나옵니다.</p><div class="gatsby-highlight" data-language="console"><pre class="prism-code language-console" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-console"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">{ gt: &#x27;20&#x27; } //conditionFunc(true)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">{ lte: &#x27;20&#x27; } //conditionFunc(false)</span></div></code></pre></div><p class="css-64lq4m">위 표현이 가능한 이유는 아래와 같습니다.
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:84.58333333333331%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACn0lEQVQ4y21U30/TUBTe/+o/4IPRBxOMUR8wPpFAAlEDxhgNPBJAF9TxYyACOphsrGxtWbu13datW9t7u7b7zL1dy7pxk9ue3nvud75zznebGY1GGIGNEcLISA22P/m+b2/SzkQGA4sWBLWPG9VCEPjcic0wDPnekBC49gCu64LagwRoEjjDHuGYmqS2sbjbx/JhiOUfXTQ6buLIAnbrErqnexhcHMNSJJ5ZGAQp0ExsDByC9wcuHi4e4sHzz5jfcVC8teFTB6IoIQgCqD83sbfwElvzTyHubMCUqzMlSAAJHeJj3sKzLxLmPlXwattDrswYhhAlGZQQNHNbKLx9g/2FFxA33kErFeBSD71eD57nTaQ8BjUtG0s5ivVzH9+LPQhSE+XSFTRdj2pIKVr5LKyjbzxllxAIQgXZbBamaaabEjM1ui4opXzNsQc4Pv6FWq2WpGVbPVDPw5CSKMhwCNu24ft+uoZRYTHRhFmJTEvnvu/MpON9DkwyKb2NJTQdaKbLsdaMVgvVahU3N9Vx6neBYh9N03B9fc1nvJYATn4QSqHUb1G/laEoCj/IapTyIQSNhgpVVWDoOgzDSOo3JRuKtqFBqIqQ63WY7ciZ3Yp4UOpBVVU0tAZaLR263oSqKGlAZjDRtlsGrgQRT5a2Mbe6j5M/lyCuzUH6/T5nqus6hEoZB+trOFxfQ6l4gW63y8+nAIe+D9cZoCyqeLSyj8cf/uKoUIHvuSCEcqaO4/DZbNRxsLqA/MprVEuX6JgmgmmGjDJjYWgKzks1bGZzODs75dHjG8AGuxGqWofwr4D87lec/D7hdZ5hyDrFWHQ6bVi9DrSGAlmWky7HnWQpd9ptHpzdHlmSkhrH0knJhkXy/SD5+0xr887HT4JM+/wHnOAMl8y05rwAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Dict-Example" title="ReasonML-Dict-Example" src="/static/116d6855a86bbcb7d69e71bf2a9b3aa3/7d769/reasonml-dict.png" srcSet="/static/116d6855a86bbcb7d69e71bf2a9b3aa3/5243c/reasonml-dict.png 240w,/static/116d6855a86bbcb7d69e71bf2a9b3aa3/ab158/reasonml-dict.png 480w,/static/116d6855a86bbcb7d69e71bf2a9b3aa3/7d769/reasonml-dict.png 960w,/static/116d6855a86bbcb7d69e71bf2a9b3aa3/79afa/reasonml-dict.png 1078w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">Js.Dict로 감싼 두 표현은 Js.Dict.t 타입으로 인식되기 때문에 컴파일상 아무 문제가 없습니다. 마치 &quot;foo&quot;와 &quot;bar&quot;가 값은 다르지만 같은 string 타입인 것처럼요.
raw나 obj.magic을 썼을 때 보다는 조금 더 타입 안정성이 확보된 것 같습니다. 하지만 <strong class="css-0">Js.Dict.t 타입이면 다 받을 수 있기 때문에 gt, lte와 같은 키만 들어갈 수 있는지는 보장되지 않습니다.</strong>
만약 <code class="css-0">gt</code>가 들어갈 자리에 <code class="css-0">gd</code>를 치면 런타임에서 에러가 나겠죠?</p><h3 class="css-k3mtc7">해결 방안 4 - 배리언트(Variant)</h3><p class="css-64lq4m">배리언트를 사용해 타입 안정성을 더 높힐 수 있습니다.
배리언트는 다른 언어의 <strong class="css-0">enum</strong> 과 비슷한 기능인데, 임의의 데이터를 배리언트로 감싸 표현할 수 있습니다. 또한 패턴 매칭 되기 때문에 다양한 방법으로 활용 가능한 자료형입니다. 간단한 예로 account라는 타입을 보겠습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">type</span><span class="token plain"> account </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">None</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Instagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Facebook</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m">account는 None, Instagram, Facebook 중 하나의 타입이 될 수 있는 배리언트입니다. 패턴매칭으로 안의 값을 가져 올 수 있습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> myAccount </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Facebook</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Josh&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">26</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> friendAccount </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Instagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Jenny&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">myAccount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Facebook</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;my name is &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot; and, &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> string_of_int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot; years old.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Instagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;my name is &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* my name is Josh and I am 26 years old. 출력!! */</span></div></code></pre></div><p class="css-64lq4m"><a href="https://reasonml.github.io/docs/en/variant" class="css-h4jr85">공식문서</a>에 다양한 쓰임새가 나와있습니다.
실제로는 아래처럼 쓰일 수 있습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  allType 배리언트 선언  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">type</span><span class="token plain"> allType </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">GT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">LTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  배리언트로 감싸진 객체 반환 */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> conditionFunc </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isHeavy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  isHeavy </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">GT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">LTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">conditionFunc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  { TAG: 0, _0: 20 }  */</span></div></code></pre></div><p class="css-64lq4m">conditionFunc를 실행하면 원하는 객체가 아닌 <strong class="css-0">{ TAG: 0, <!-- -->_<!-- -->0: 20 }</strong>와 같은 배리언트로 둘러싼 값이 나오기 때문에, 원하는 값으로 만들기 위해 앞서 설명한 Js.Dict를 활용하겠습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> toData </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> allType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> ret </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">GT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> ret</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">LTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> ret</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 139)">Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  ret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">conditionFunc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain">toData</span><span class="token operator" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  { gt: &#x27;20&#x27; }  */</span></div></code></pre></div><p class="css-64lq4m">이렇게 해서 배리언트를 사용하여 서로 다른 객체를 반환하는데 성공했습니다! 그림으로 다시 보겠습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:58.333333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABwklEQVQoz32Tb0/aUBSH+f5fYMleLDoTCRhFTJC5hZnNKasbReilLVhbhqWM1fBiLi1Q6LMUvKwVs19y03vOyX16/tybI6U4jlcrkeu6dIS+9hFnYnKftqVyPNNyuVx9G2qDs9q7jZ2BIQHxFjyXdkjndDbli/2R94MyH4wKf4LHJ9hScpjNZkhuJsPESLJI1mKxWDlt74495TXV2xLF9g43VkPmQzSP+O58pdI54tL8RBRFmTZslZxo4P2gcL3Lob5HobHL/XiwiXU9neNunnIvT8065cF/QLlW6Pf76wxt20ZRFDRNw7IsvJGH/8vH/z3mm3PFwHfWvX0q13AFB9pbKuKInt3Fc0cIIZhMJmtgs9mk3W5Tr9dRVRXTNFc9DB9DTo+rGJqRGVYQBhyc5/H8IcP7IZ1bwTyab8reKjkIAoauh3BaVG/KtJ3mpvkS2nJUTrQiFf2QC/OcRbT4B5QDSQw5lPFkREnsczYoUdL3cUZ3mbITQO+ngT7UCKdhZtK59ITkgf7IZufqFSdGkbz6BmG3NsD0FUk/iBdLloEkA8W6pCwKfDZr6zv37GACT/8gk+FL0KRv01lIvNx+Xv/TX3JBjlnLeTZhAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Variant-Example" title="ReasonML-Variant-Example" src="/static/2eae3b7dd99f9fe5e7ab9e3901555ced/7d769/reasonml-variant1.png" srcSet="/static/2eae3b7dd99f9fe5e7ab9e3901555ced/5243c/reasonml-variant1.png 240w,/static/2eae3b7dd99f9fe5e7ab9e3901555ced/ab158/reasonml-variant1.png 480w,/static/2eae3b7dd99f9fe5e7ab9e3901555ced/7d769/reasonml-variant1.png 960w,/static/2eae3b7dd99f9fe5e7ab9e3901555ced/2810f/reasonml-variant1.png 1156w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">이렇게 allType 배리언트를 선언하고, 안에 20을 넣었습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:95%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACg0lEQVQ4y42S3W7aQBCFedu+QZ+gt71pFalqFfWiaislSi9KepFUTZOo+W9JQoBA/hBgY3u9BmMbG7Dhq9YRJCWEdKTRrmZGM2fmnMxoNEK5MvXqmo7v+YzN9wKMpkmSxJOacf0sy4yLlCXxkL3cLprRmBQUymfsHP0i7t81nGeZ24IRoyH8qe7ztbLEamkFx5PURJVsaYnVyjLneuH/EI6TYRSycvyJxY0F3u8uUGrk2bnY5N3mKxa3FlgrZRnGoydRThoyhMObXbKXS3wrr2A6BtfGJdnKMtnKEoXG6W3ZaDhBOX3/GTdM0GSdXhyxvrbOeekcv9fBahtz73YfcWZ6gkIqbUm5XKZWq5EMhvSjAUHgE4UBQbdLEAR0u93UHyCchm6aJvV6HSll+tctDd1oYFiSqiZo2RatVivNVatVer3ew5XvB2zbpt1uUywV0Rs6omtSsyoID37mW7hnB/SjkHqjQbPZfLqhECJF1+l0cF0XS1hYtonjtPC8Di15O1C5pmmzG95fOUkSfN9PXd1K1/W0sXrVEM/38TwvdZWfy/IsffX7/TtBD0dPszwdjKIIYeq4joW0RYosjuNUUmp96UgcaaNr2r/DZiFUkmjqDbaP8nzfy3Nzc4XrttOVFQHnhVMuiidcX1+mLKtBMxGOA77Xoa4bPH+7xbPX2+wcV0gGEULYOO0Wh18+sPH6BRcnR7Rdl+SphmEYIoXB5x9nvFw+5CB3Rhj4qe483+N0e52dj2/I/95H2IJ4MJjfUE211Z1sk3LxlEL+BD8I0pVtW2BLwcXVJblcDkfKmWRmpglRcul2Q6KoRxhGE6aVRFRe6U69jykjM4v6xyTxWO4+wr8DAa6fZgOMcQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Variant-Example" title="ReasonML-Variant-Example" src="/static/746b8d584540a2a592a1856c1406c432/7d769/reasonml-variant2.png" srcSet="/static/746b8d584540a2a592a1856c1406c432/5243c/reasonml-variant2.png 240w,/static/746b8d584540a2a592a1856c1406c432/ab158/reasonml-variant2.png 480w,/static/746b8d584540a2a592a1856c1406c432/7d769/reasonml-variant2.png 960w,/static/746b8d584540a2a592a1856c1406c432/85e2f/reasonml-variant2.png 1196w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span>
그 후 배리언트 안의 값을 꺼내어, toData 함수를 사용하여 객체를 재구성했습니다.</p><p class="css-64lq4m">배리언트를 통한 작업은 Js.Dict만 사용한 이전의 해법보다 더 엄밀한 타이핑이 적용되었습니다. 이제 conditionFunc는 GT, LTE만 리턴하며 allType에 정의되지 않은 타입을 절대 리턴하지 않습니다.
Js.Dict가 key-value 쌍이 있는 모든 객체를 리턴했던것과 차별되는 부분입니다. 하지만 코드가 길고 배리언트 안의 값을 뽑아서 Js.Dict로 재구성하는 등의 부수적인 절차가 필요했습니다.</p><h3 class="css-k3mtc7">해결 방안 5 - 배리언트와 언박싱 GADT(심화)</h3><p class="css-64lq4m">마지막으로, GADT(General Algebraic Data Types)와 언박싱 태그(@unboxed)를 이용한 좀 더 고차원적인 해법도 있습니다.
그 중에서도 GADT는 난이도가 높은 개념이라 다른 포스팅에서 추가로 다루도록 하고, 간략히 언박싱에 대해서만 먼저 다루겠습니다. 설명은 BuckleScript를 개발한 Hongbo님이 작성한 <a href="https://rescript-lang.org/blog/bucklescript-release-7-0-2" class="css-h4jr85">리스크립트 블로그 글</a>을 참고했습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  언박싱  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">@unboxed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  GADT 정의  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">type</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  GADT 배리언트의 배열 정의  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> array </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;a&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><br/><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  컴파일 결과  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> array </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;a&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">3, &quot;a&quot;처럼 서로 타입이 다른 데이터를 Any 로 감싸 한 배열에 넣었습니다. 컴파일 결과 배열 안에는 Any의 실 값 3과 &quot;a&quot;가 잘 들어 있습니다. 여기서 만약 언박싱 태그가 없었다면 컴파일 결과는 어땠을까요? 아래와 같습니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  @unboxed가 없을 때  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> array </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  Any  */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    _0</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  Any  */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    _0</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">이렇듯 <!-- -->_<!-- -->0 같은 메타 정보가 붙어 안의 값을 직접 불러오는 것이 번거로워집니다. 하지만 언박싱을 이용하면 값을 바로 가져오기 때문에 서로 다른 타입의 데이터를 한 배열에서 직접 사용할 수 있습니다. 이제 실제 코드에서 사용해보겠습니다.</p><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">@unboxed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">type</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">    - t는 GADT의 개념으로 사용되었습니다.</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">    - Any 안의 값을 JSON으로 제한합니다.</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(127, 219, 202)">...</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain"></span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isHeavy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*  Any에 @unboxed가 있으므로 실 값이 바로 리턴됩니다.  */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><br/><div class="gatsby-highlight" data-language="reason"><pre class="prism-code language-reason" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-reason"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">type</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token constructor variable" style="color:rgb(214, 222, 235)">Any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 139)">Js</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-64lq4m">위의 코드는 Any 안의 데이터를 JS 객체로 한정하는 역할을 합니다. 다른 원시타입(int, string 등)은 올 수 없습니다.
아래는 JS로 컴파일된 결과입니다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;where&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;weight&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isHeavy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gt&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;lte&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></code></pre></div><p class="css-64lq4m">무엇을 한 것인지 다시 한번 짚어보겠습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:482px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:77.5%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXklEQVQ4y4VS247SUBTtl/oJPvhgog8+GdSY8QkTjdFgHJ04ySjEBCJDJkFuEqIDAsOlIJcKEYr2Qgult2X2KSWlQV3J6TlNd9fZe63FAcDstwZJ0QCYAFy4Lm30oM2F4zjs7Ng2HBewbBubzQY+3G0tgZOUJV7mFbz9YuFdRcX3n7r3s+vuFRI2xhpiqwptxEPqtXaXuNtaWtz78hx3TgXcfFbB3aSB3JXk3bol0TQNPZ5n51n3CsKHY3x++hCdxGuI7TojDIJ7dGHjxuNPuHbrOR4kZRyXVtCXCgzDG6nZbOLk5A07L5pf0XpxhFe3r6Py5D5+5D5CUVSYponVagXLssBd1Oa4l1wiWgCOzldIVH5hIozQaDZRKBQwGAxgb7tQxBnEShbL81MsShkM+j3w3S6KxSIa9ToURQFnWxucVVRkvslYyDo2pglZllCtVpHJZDAajTzCrZ6GrkEUhjBWOpZLFaPxGOl0Go1Gg8nDMb0ci+Td08J3l8bxBKe6/RpmiuPs6mjn3F08vEU6jMdjpkkYQTfdAylgpgQLCev1GrlcjplBoHHpdl/HMFn4Ai4cTtIhkUggGo1C171Mdrtd8DyPdrvNhD8U6L0Ogx9lWUYsFkMkEoEgCKyz+XzOliRJMAyDTTGdTg+ScmGNgri8vMRwOMRkMmF7q9VCv99nctD5n4RBTcgYWhSdTqfDskhj0zvFo1QqsY59l/9L6BcRSblcZiTUFb3XajXk8/k9k/46cphcVVWkUikkk0nU63Vks1nE43HW9aHuDhIGOyWQEaIo7iLlmxGOm0/4B8VguaZxbznvAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Not-Compile-Example" title="ReasonML-Not-Compile-Example" src="/static/a74d67e41b62629100d006efb32b3e35/96791/reasonml-any1.png" srcSet="/static/a74d67e41b62629100d006efb32b3e35/5243c/reasonml-any1.png 240w,/static/a74d67e41b62629100d006efb32b3e35/ab158/reasonml-any1.png 480w,/static/a74d67e41b62629100d006efb32b3e35/96791/reasonml-any1.png 482w" sizes="(max-width: 482px) 100vw, 482px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><style data-emotion-css="13z3j25">.css-13z3j25 li{font-size:16px;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.8rem;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}.css-13z3j25 li > code{color:var(--theme-ui-colors-backtick,#2d3748);background-color:var(--theme-ui-colors-backtickBg,#edf2f7);padding-left:0.25rem;padding-right:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}</style><ul class="css-13z3j25"><li class="css-0">하나의 분기문에서 리턴하는 객체의 구조가 다르면, 컴파일이 되지 않습니다.</li><li class="css-0">따라서 GADT를 활용하여 JSON이 올 수 있는 Any타입을 만들었습니다.</li></ul><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:553px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:77.08333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmklEQVQ4y3VUbW/SYBTtr1Wj2SeT7bOJJouJ0TiVxG1+8MPUbDPZhjEhDNyGDjZBzYIMYaVAGQXKa0tLX4+5t2szfDnJk/Z5yj3Puefei+D7PmiFCPfhmed5UBQFpVIJw+GQn91uF9Vqlfez2QyyLEexQkjkXSf2fSYi1Go1qKqKVquFTqfD5EQwHo/R6/Vg2zYqlQoTEwTXdWEYRqRQ13UmD0EkjuNAkiSIosiqCBRDZ/1+ny/RNC0gJOZcLgexPQFpKhaLqJ6X4M2CS05OTpBKpZiILidFhOl0yurDTKKUiblcLmN19xSJT1/QaNRxls0gsbmBelPG0uIiBEFg4jAoJCRloc/huWBZFsvtdRVIUg3BXsfFhYjRaIR0Oo2FhQXk83lOv9ls8qL0Kd0/CxkVJZKN/4NUmaYRqbquOFLIzMFP5uhM02S19J2KQpWnyrqeD0PX4LnunHchhODdxsd8B/lfPSjqBJphwbJmTBoEBGqU71nonUtcHqdgh9+u/LuWso+jszaeHvhYywJPUhZ2vw6vFAcBBFWuQzn4AGl7HZV3q2idHqFXq/xli1BtDbGSGGBp/RtuPNjGvfcK3mY1OPZsLp1RU4S89RLri3cQu3sL9TfP0Socw/E8toTaiXwV9k57WE64uHl/E7cfxrG808bKgY+y1GVPbdthZzvSBeT9Hah7r9HfeYV2Ng2xeAZZbqJer6PRaPBECbphYePwEo9SHl4cA49TLtYONfw8r3IbZTIZXjS7Js3t5yTU0g+oUhXqaIxCoYBYLIZ4PM6jyG2j9DU829exlRug0hxgqJmY6hr3WjKZ5F6kWabUTGPKiskJ8ncwGPCfBambTCYQwrkdTaZwHXvOYMe2ebZpUQ/O9Zz/7479DY9FXlQxFQDHAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Compile-Example" title="ReasonML-Compile-Example" src="/static/cabea5c70d646c773fec04e8c22ed316/c31e4/reasonml-any2.png" srcSet="/static/cabea5c70d646c773fec04e8c22ed316/5243c/reasonml-any2.png 240w,/static/cabea5c70d646c773fec04e8c22ed316/ab158/reasonml-any2.png 480w,/static/cabea5c70d646c773fec04e8c22ed316/c31e4/reasonml-any2.png 553w" sizes="(max-width: 553px) 100vw, 553px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><ul class="css-13z3j25"><li class="css-0">이후 언박싱 태그를 붙여 Any 안의 값을 바로 꺼내올 수 있도록 했습니다.</li></ul><h2 class="css-1k3503y">비교</h2><p class="css-64lq4m">ReasonML의 타입 시스템을 상대하는 다섯가지 방법에 대해 알아보았습니다. 흥미롭게도, 타입 안정성과 코드의 간결함은 반비례 관계에 있습니다.
모든 데이터에 타입을 적용하면 안정성은 높아지는 대신 코드가 길어지고, 반대로 타입 시스템을 무시하고 코드를 작성하면 코드는 짧지만 안전하지 않습니다. 그림으로 이 느낌을 표현해보았습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:465px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:71.66666666666667%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQ4y4VUy27aQBRl2f/Ituq3dJlP6Ed02S6yrrKI1G+osmbXKiFCKIASKoEBGTIueBxjE+PHjMfjE83YBgMhHWk89szVuefec8aNPM/BOdczSRJEUYQ8l1BDndXX+qjv1d8bcRxjOBxiPp9jMpmg3W6D82QbWAVLKSGEQBAEyLLsTTANuGUBYDB4RCYPmJRrmqZYr9c6uWmasCxLJzhMvAOUGYzpExjtYvHrM9jDD0x/fgJEoM85Y/B9H+PxGK1WC67rvl1yfWPh+GC0B+v6HKM/V/DuvgGSFYCca4aGYaDT6cC2bVBKNfM6RqNOl5AnZGWyIN4vXfVNibbZbLBareB5ngat+rkFrH8QovpSZAT3kNJ7iJc5uPUb742TJRNCINKiRPfuAsbVRzjNLxhdnhVKlyIpxavKDq11DFgqh3gJn3Rh/r0FQrNQm/uQgXnE7H2GQhSZS0Zc7Kzj33xF9/sH/JsNIXPoC3DI9AjwRJeK58sEgjQRBJs9licBZ7OZVk6pqHxWTUod2PYS9NmH7YZwHEcbu9frHYmzB8gY02DKwNVU3gvDUN/xKArBkki3RcUpgysS/X5fx20ZnvoB/M8qVSIFpoyvAF8BGcE21uyo++UAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="ReasonML-Comparison-Graph" title="ReasonML-Comparison-Graph" src="/static/f8710f6f5c30854d95d9f98213d49474/916fa/reasonml-graph.png" srcSet="/static/f8710f6f5c30854d95d9f98213d49474/5243c/reasonml-graph.png 240w,/static/f8710f6f5c30854d95d9f98213d49474/916fa/reasonml-graph.png 465w" sizes="(max-width: 465px) 100vw, 465px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">이처럼 트레이드 오프가 명확한 상황에선 <strong class="css-0">어떤 부분의 안정성을 중요시 할 것인가</strong>가 중요한 질문입니다.
그랜랩스는 <strong class="css-0">비즈니스 데이터는 완전한 타이핑</strong>으로 오류 없는 코드를, <strong class="css-0">라이브러리 혹은 기존의 API를 사용할 때는 선택적인 타이핑</strong>으로 개발의 효율을 추구하고 있습니다.
위의 프리즈마 쿼리를 작성하는 예시는 후자에 해당하므로 5번(언박싱과 GADT) 방식을 사용하였습니다.</p><h2 class="css-1k3503y">맺으며</h2><p class="css-64lq4m">이번 글에서는 ReasonML의 타입시스템을 적용하며 만날 수 있는 기본적인 문제에 대한 대처방안을 알아보았습니다.</p><ol class="css-13z3j25"><li class="css-0"><code class="css-0">[%raw]</code> 를 통해 직접 JS 코드 넣기</li><li class="css-0"><code class="css-0">Obj.magic</code>을 이용한 컴파일러 속이기</li><li class="css-0"><code class="css-0">Js.Dict</code> 로 감싸서 리턴하기</li><li class="css-0">배리언트를 이용한 해법</li><li class="css-0">언박싱과 GADT을 이용한 해법</li></ol><p class="css-64lq4m">이번에 설명하지 못했던 GADT의 개념과 배리언트의 더 자세한 사용법은 앞으로의 포스팅에서 다루도록 하겠습니다.
또 다른 글에서 만나길 기대하며, Merry ReasonML, Happy new year!</p><br/><br/><br/><br/><style data-emotion-css="12skda5">.css-12skda5{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);margin-top:1rem;}@media screen and (min-width:640px){.css-12skda5{font-size:1.25rem;}}@media screen and (min-width:768px){.css-12skda5{font-size:1.25rem;}}@media screen and (min-width:1024px){.css-12skda5{font-size:1.25rem;}}</style><h4 class="css-12skda5">참고자료</h4><ul class="css-13z3j25"><li class="css-0"><a href="https://reasonml.github.io/" class="css-h4jr85">https://reasonml.github.io/</a></li><li class="css-0"><a href="https://rescript-lang.org/blog/bucklescript-release-7-0-2" class="css-h4jr85">https://rescript-lang.org/blog/bucklescript-release-7-0-2</a></li><li class="css-0"><a href="https://rescript-lang.org/docs/manual/latest/api/js/dict" class="css-h4jr85">https://rescript-lang.org/docs/manual/latest/api/js/dict</a></li><li class="css-0"><a href="https://rescript-lang.org/docs/manual/latest/object" class="css-h4jr85">https://rescript-lang.org/docs/manual/latest/object</a></li></ul><div style="display:flex;align-items:center"><img alt="Gravatar for tlonist.sang@gmail.com" style="border-radius:25px;margin-right:8px" src="//www.gravatar.com/avatar/c466573fc5a9ee4d5d28b7bcbc1de557?d=retro&amp;r=g&amp;s=50" srcSet="//www.gravatar.com/avatar/c466573fc5a9ee4d5d28b7bcbc1de557?d=retro&amp;r=g&amp;s=100 2x" height="50" width="50" class="react-gravatar"/><div><p style="margin-bottom:-4px"><b>김상현</b></p><p style="margin-top:-4px">백엔드 개발자</p></div></div><div class="footnotes css-0"><style data-emotion-css="13l3oqy">.css-13l3oqy{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;margin-left:0;margin-right:0;}</style><hr class="css-13l3oqy"/><ol class="css-13z3j25"><li id="fn-1" class="css-0"><a href="https://www.prisma.io/" class="css-h4jr85">https://www.prisma.io/</a><a href="#fnref-1" class="footnote-backref css-h4jr85">↩</a></li><li id="fn-2" class="css-0"><a href="https://www.prisma.io/docs/concepts/components/prisma-client/filtering" class="css-h4jr85">https://www.prisma.io/docs/concepts/components/prisma-client/filtering</a><a href="#fnref-2" class="footnote-backref css-h4jr85">↩</a></li></ol></div></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2021<!-- --> by <!-- -->그린랩스<!-- -->. All rights reserved.</div><div><style data-emotion-css="zs3bie">.css-zs3bie{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#2f855a);-webkit-text-decoration:none;text-decoration:none;}.css-zs3bie:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://www.notion.so/greenlabs/a54bc92ea17b4d97b1c7366e997f5932" target="_blank" class="css-zs3bie">🍅 진행중인 채용</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FE2V3HW55M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-FE2V3HW55M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/reasonml-ways-with-types";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7ced8295869eb983463c.js"],"app":["/app-5c5740e4aee247e819b3.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-0f40d706ebc58d78c1f6.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-7eb84e497c456181d7fa.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-3d99004cf803eea6a9d5.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-156c1b71d9f01ae520cb.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx-f4d7152e659768e813e5.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx-79b5f246d04cf275e4c0.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js"]};/*]]>*/</script><script src="/polyfill-7ced8295869eb983463c.js" nomodule=""></script><script src="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js" async=""></script><script src="/a762775feeb6986a7626165c092554dd56475b59-903a849af2d4fe2b9e06.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-5c5740e4aee247e819b3.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/webpack-runtime-fba04978b290dcb56af8.js" async=""></script></body></html>
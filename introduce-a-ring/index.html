<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f628065b851287e306e5.css" id="gatsby-global-css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.32.12"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><title data-react-helmet="true">클로저로 웹 서버 애플리케이션 개발을 시작하는 사람들을 위한 Ring 소개서 | 그린랩스</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="클로저 문법을 모두 익힌 뒤, 첫걸음으로 웹 개발을 시작하는 분들을 위해 웹 서버 어플리케이션 라이브러리 Ring이 제공하는 여러 도구들을 소개합니다."/><meta data-react-helmet="true" name="image" content="https://green-labs.github.io/thumbnails/introduce-a-ring.png"/><meta data-react-helmet="true" property="og:title" content="클로저로 웹 서버 애플리케이션 개발을 시작하는 사람들을 위한 Ring 소개서"/><meta data-react-helmet="true" property="og:url" content="https://green-labs.github.io/introduce-a-ring"/><meta data-react-helmet="true" property="og:description" content="클로저 문법을 모두 익힌 뒤, 첫걸음으로 웹 개발을 시작하는 분들을 위해 웹 서버 어플리케이션 라이브러리 Ring이 제공하는 여러 도구들을 소개합니다."/><meta data-react-helmet="true" property="og:image" content="https://green-labs.github.io/thumbnails/introduce-a-ring.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="클로저 문법을 모두 익힌 뒤, 첫걸음으로 웹 개발을 시작하는 분들을 위해 웹 서버 어플리케이션 라이브러리 Ring이 제공하는 여러 도구들을 소개합니다."/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="클로저로 웹 서버 애플리케이션 개발을 시작하는 사람들을 위한 Ring 소개서"/><meta data-react-helmet="true" name="twitter:url" content="https://green-labs.github.io/introduce-a-ring"/><meta data-react-helmet="true" name="twitter:description" content="클로저 문법을 모두 익힌 뒤, 첫걸음으로 웹 개발을 시작하는 분들을 위해 웹 서버 어플리케이션 라이브러리 Ring이 제공하는 여러 도구들을 소개합니다."/><meta data-react-helmet="true" name="twitter:image" content="https://green-labs.github.io/thumbnails/introduce-a-ring.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="클로저 문법을 모두 익힌 뒤, 첫걸음으로 웹 개발을 시작하는 분들을 위해 웹 서버 어플리케이션 라이브러리 Ring이 제공하는 여러 도구들을 소개합니다."/><meta data-react-helmet="true" name="twitter:creator" content="그린랩스"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#29c389"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link as="script" rel="preload" href="/webpack-runtime-14c9fe1a26c0af28d845.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-6eb8c76412b9441ee715.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/a762775feeb6986a7626165c092554dd56475b59-fe7bde6fd61e84b9dfa4.js"/><link as="script" rel="preload" href="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js"/><link as="fetch" rel="preload" href="/page-data/introduce-a-ring/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="16ql9gk">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#2f855a);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);--theme-ui-colors-backtick:var(--theme-ui-colors-backtick,#2d3748);--theme-ui-colors-backtickBg:var(--theme-ui-colors-backtickBg,#edf2f7);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#48bb78);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);--theme-ui-colors-backtick:var(--theme-ui-colors-modes-dark-backtick,#edf2f7);--theme-ui-colors-backtickBg:var(--theme-ui-colors-modes-dark-backtickBg,#2d3748);}</style><style data-emotion-css="tm2q0o">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="kcr4c7">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="157bhr3">.css-157bhr3{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:740px;}@media screen and (min-width:640px){.css-157bhr3{padding:2rem;}}</style><div style="padding:1em" class="css-157bhr3"><style data-emotion-css="r5barg">.css-r5barg{margin-bottom:0.5rem;}@media screen and (min-width:640px){.css-r5barg{margin-bottom:1rem;}}</style><header class="css-r5barg"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="그린랩스 - 홈으로 돌아가기" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><div style="display:flex;align-items:center;flex-wrap:wrap" class="css-1kmktz0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="35" height="35" class="logo"><style>.logo_svg__st17{fill:#3bbd5a}</style><g id="logo_svg__\uB808\uC774\uC5B4_1"><path fill="#009943" d="M149.74 140.97l-34.8-71.71-2.48-5.11-19.89-40.99H57.78l22.37 46.1 17.39 35.86 19.88 40.98 14.91 30.73h.01l14.91-30.73h4.98z"></path><path class="logo_svg__st17" d="M67.72 94.87l-39.77 81.97h34.81l29.99-61.72-17.4-35.86zM177.36 146.1h-30.11l-14.91 30.73h34.8l10.22-21.07 4.69-9.66zM57.78 23.16l-14.9 30.72h34.79l14.9-30.72z"></path></g></svg><span style="margin-left:6px;font-size:1.2rem;font-weight:normal">그린랩스</span><span style="margin-left:6px;font-size:1.2rem;font-weight:bolder">기술 블로그</span></div></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div></header><style data-emotion-css="mt6dwb">.css-mt6dwb [data-name='live-editor']{font-size:1rem;}.css-mt6dwb [data-name='live-editor'] textarea,.css-mt6dwb [data-name='live-editor'] pre{padding:1rem !important;}.css-mt6dwb [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#c0dacd;}.css-mt6dwb .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-mt6dwb .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-mt6dwb .prism-code{font-size:1rem;}}.css-mt6dwb .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-mt6dwb .gatsby-highlight[data-language=''] .prism-code,.css-mt6dwb .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-mt6dwb .token{display:inline-block;}.css-mt6dwb .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-mt6dwb .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-mt6dwb .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-mt6dwb .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-mt6dwb .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-mt6dwb .gatsby-highlight pre code{float:left;min-width:100%;}.css-mt6dwb .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-mt6dwb .gatsby-highlight pre[class~="language-javascript"]:before,.css-mt6dwb .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-mt6dwb .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-mt6dwb .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-mt6dwb .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-mt6dwb .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-mt6dwb .gatsby-highlight pre[class~="language-py"]:before,.css-mt6dwb .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-mt6dwb .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-mt6dwb .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-mt6dwb .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-mt6dwb .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-mt6dwb .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-mt6dwb .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-mt6dwb .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-mt6dwb .gatsby-highlight pre[class~='language-json']:before,.css-mt6dwb .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-mt6dwb .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-mt6dwb .gatsby-highlight > code[class*="language-"],.css-mt6dwb .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-mt6dwb .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-mt6dwb .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#2f855a);}.css-mt6dwb .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-mt6dwb .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-mt6dwb .code-title{background-color:#c0dacd;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-mt6dwb .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-mt6dwb .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-mt6dwb .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-mt6dwb [data-name='live-preview'],.css-mt6dwb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-mt6dwb [data-name='live-preview'],.css-mt6dwb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-mt6dwb [data-name='live-preview'],.css-mt6dwb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-mt6dwb [data-name='live-preview'],.css-mt6dwb [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-mt6dwb .token-line{padding-right:1rem;}.css-mt6dwb .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-mt6dwb .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-mt6dwb .react-live-wrapper{position:relative;}.css-mt6dwb .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-mt6dwb .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-mt6dwb .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-mt6dwb .react-live-wrapper .code-copy-button{right:-1rem;}}.css-mt6dwb *{word-break:keep-all;word-wrap:break-word;}.css-mt6dwb a{font-weight:700;}.css-mt6dwb p{word-break:keep-all !important;}.css-mt6dwb span{word-break:keep-all !important;}.css-mt6dwb code span{font-size:16px !important;line-height:1rem !important;}.css-mt6dwb pre[class~="language-reason"]:before{content:"reasonml";background:#e6484f !important;color:white !important;font-weight:700;}.css-mt6dwb pre[class~="language-rescript"]:before{content:"rescript";background:rgba(230,72,79,1) !important;color:white !important;font-weight:700;}.css-mt6dwb pre[class~="language-haskell"]:before{content:"haskell";background:#5e4f85 !important;color:white !important;font-weight:700;}.css-mt6dwb pre[class~="language-java"]:before{content:"java";background:#e76f00 !important;color:white !important;font-weight:700;}.css-mt6dwb pre[class~="language-clojure"]:before{content:"clojure";background:#5881d8 !important;color:white !important;font-weight:700;}.css-mt6dwb .gatsby-resp-image-wrapper{box-shadow:none !important;margin-top:2rem !important;}</style><style data-emotion-css="1snt6vb">.css-1snt6vb{box-sizing:border-box;margin:0;min-width:0;}.css-1snt6vb [data-name='live-editor']{font-size:1rem;}.css-1snt6vb [data-name='live-editor'] textarea,.css-1snt6vb [data-name='live-editor'] pre{padding:1rem !important;}.css-1snt6vb [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#c0dacd;}.css-1snt6vb .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-1snt6vb .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1snt6vb .prism-code{font-size:1rem;}}.css-1snt6vb .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1snt6vb .gatsby-highlight[data-language=''] .prism-code,.css-1snt6vb .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1snt6vb .token{display:inline-block;}.css-1snt6vb .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1snt6vb .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1snt6vb .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1snt6vb .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1snt6vb .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1snt6vb .gatsby-highlight pre code{float:left;min-width:100%;}.css-1snt6vb .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1snt6vb .gatsby-highlight pre[class~="language-javascript"]:before,.css-1snt6vb .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1snt6vb .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1snt6vb .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1snt6vb .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1snt6vb .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-1snt6vb .gatsby-highlight pre[class~="language-py"]:before,.css-1snt6vb .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-1snt6vb .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1snt6vb .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1snt6vb .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1snt6vb .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1snt6vb .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1snt6vb .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1snt6vb .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1snt6vb .gatsby-highlight pre[class~='language-json']:before,.css-1snt6vb .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1snt6vb .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1snt6vb .gatsby-highlight > code[class*="language-"],.css-1snt6vb .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1snt6vb .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1snt6vb .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#2f855a);}.css-1snt6vb .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-1snt6vb .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1snt6vb .code-title{background-color:#c0dacd;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1snt6vb .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1snt6vb .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1snt6vb .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1snt6vb [data-name='live-preview'],.css-1snt6vb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1snt6vb [data-name='live-preview'],.css-1snt6vb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1snt6vb [data-name='live-preview'],.css-1snt6vb [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1snt6vb [data-name='live-preview'],.css-1snt6vb [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1snt6vb .token-line{padding-right:1rem;}.css-1snt6vb .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1snt6vb .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1snt6vb .react-live-wrapper{position:relative;}.css-1snt6vb .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-1snt6vb .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-1snt6vb .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-1snt6vb .react-live-wrapper .code-copy-button{right:-1rem;}}.css-1snt6vb *{word-break:keep-all;word-wrap:break-word;}.css-1snt6vb a{font-weight:700;}.css-1snt6vb p{word-break:keep-all !important;}.css-1snt6vb span{word-break:keep-all !important;}.css-1snt6vb code span{font-size:16px !important;line-height:1rem !important;}.css-1snt6vb pre[class~="language-reason"]:before{content:"reasonml";background:#e6484f !important;color:white !important;font-weight:700;}.css-1snt6vb pre[class~="language-rescript"]:before{content:"rescript";background:rgba(230,72,79,1) !important;color:white !important;font-weight:700;}.css-1snt6vb pre[class~="language-haskell"]:before{content:"haskell";background:#5e4f85 !important;color:white !important;font-weight:700;}.css-1snt6vb pre[class~="language-java"]:before{content:"java";background:#e76f00 !important;color:white !important;font-weight:700;}.css-1snt6vb pre[class~="language-clojure"]:before{content:"clojure";background:#5881d8 !important;color:white !important;font-weight:700;}.css-1snt6vb .gatsby-resp-image-wrapper{box-shadow:none !important;margin-top:2rem !important;}</style><div id="skip-nav" class=" css-1snt6vb"><style data-emotion-css="8o4giv">.css-8o4giv{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:3rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}</style><h1 style="font-size:36px" class="css-8o4giv">클로저로 웹 서버 애플리케이션 개발을 시작하는 사람들을 위한 Ring 소개서</h1><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>2021년 9월 17일</time> — <span>4<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="1k3503y">.css-1k3503y{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:4rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1k3503y{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1k3503y{font-size:1.875rem;}}@media screen and (min-width:1024px){.css-1k3503y{font-size:1.875rem;}}</style><h2 class="css-1k3503y"><style data-emotion-css="h4jr85">.css-h4jr85{color:var(--theme-ui-colors-primary,#2f855a);-webkit-text-decoration:none;text-decoration:none;}.css-h4jr85:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a name="contents" class="css-h4jr85"></a>목차</h2><style data-emotion-css="13z3j25">.css-13z3j25 li{font-size:16px;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.8rem;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}.css-13z3j25 li > code{color:var(--theme-ui-colors-backtick,#2d3748);background-color:var(--theme-ui-colors-backtickBg,#edf2f7);padding-left:0.25rem;padding-right:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}</style><ul class="css-13z3j25"><li class="css-0"><a href="#what-is-ring" class="css-h4jr85">Ring 이란</a></li><li class="css-0"><a href="#simple-request-and-response" class="css-h4jr85">간단한 요청 - 응답</a></li><li class="css-0"><a href="#launch-web-server-in-localhost" class="css-h4jr85">로컬호스트에 웹서버 띄우기</a></li><li class="css-0"><a href="#setting-up-middleware" class="css-h4jr85">미들웨어 설정해보기</a></li><li class="css-0"><a href="#serving-static-resources" class="css-h4jr85">정적 자원을 서빙 해보기</a></li><li class="css-0"><a href="#params" class="css-h4jr85">파라미터들 다루기</a></li><li class="css-0"><a href="#session-and-cookie" class="css-h4jr85">세션과 쿠키</a></li><li class="css-0"><a href="#end-of-document" class="css-h4jr85">마치며</a></li></ul><h2 class="css-1k3503y"><a name="what-is-ring" class="css-h4jr85"></a>Ring 이란</h2><style data-emotion-css="64lq4m">.css-64lq4m{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.8rem;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-64lq4m{font-size:1rem;}}@media screen and (min-width:768px){.css-64lq4m{font-size:16px;}}.css-64lq4m > code{color:var(--theme-ui-colors-backtick,#2d3748);background-color:var(--theme-ui-colors-backtickBg,#edf2f7);padding-left:0.25rem;padding-right:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}</style><p class="css-64lq4m">Ring은 파이썬의 WSGI(Web Server Gateway Interface)에 영감을 받은 클로저 웹 애플리케이션 라이브러리입니다.</p><p class="css-64lq4m">WSGI는 웹 서버와 파이썬 애플리케이션 사이의 표준 인터페이스로서, 웹 서버에 들어온 요청을 애플리케이션으로 전달하는 역할을 합니다.
클로저에서는 Ring이 이 일을 담당합니다.
Ring은 저수준 인터페이스(handler, middleware, request, response 등)만을 제공합니다.
고수준 인터페이스(routing 등)를 사용하려면 Ring을 기반으로 하는 다른 라이브러리들을 사용해야 합니다.</p><p class="css-64lq4m">이 튜토리얼에서는 Ring의 저수준 인터페이스들을 이용하여 간단한 웹 애플리케이션을 만들어보겠습니다.</p><p class="css-64lq4m"><strong class="css-0">필요한 프로그램 목록</strong></p><style data-emotion-css="f4lqjx">.css-f4lqjx{width:100%;margin-top:2rem;margin-bottom:2rem;border-collapse:separate;border-spacing:0;}.css-f4lqjx th,.css-f4lqjx td{text-align:left;padding-top:4px;padding-bottom:4px;padding-right:4px;padding-left:0;border-color:var(--theme-ui-colors-muted,#e2e8f0);border-bottom-style:solid;}</style><table class="css-f4lqjx"><thead><tr class="css-0"><style data-emotion-css="18ma8h6">.css-18ma8h6{vertical-align:bottom;border-bottom-width:2px;color:var(--theme-ui-colors-heading,#000);}</style><th class="css-18ma8h6">이름</th><th class="css-18ma8h6">버전</th></tr></thead><tbody><tr class="css-0"><style data-emotion-css="15msde0">.css-15msde0{vertical-align:top;border-bottom-width:1px;}</style><td class="css-15msde0">Clojure</td><td class="css-15msde0">1.10.3</td></tr><tr class="css-0"><td class="css-15msde0">deps</td><td class="css-15msde0">클로저에 포함</td></tr><tr class="css-0"><td class="css-15msde0">IntelliJ (Cursive)</td><td class="css-15msde0">2021.2</td></tr></tbody></table><h2 class="css-1k3503y"><a name="simple-request-and-response" class="css-h4jr85"></a>간단한 요청 - 응답</h2><p class="css-64lq4m">인텔리제이에서 사용할 프로젝트를 만듭니다.
deps를 패키지 매니저로 사용할 것이므로 deps를 지정해주고 적절한 이름으로 만듭니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:20.833333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAv0lEQVQY04XFPU/CQBzA4X4pgfK/u/agL9e7mrZRAjURRhsXMSQO1RW7ETc/7s/EHR2ePFG3zpE6Q1mLaIuYBFELlI5ReoE2Ma7KqHxOkgoiM0TNr4iJEmspgsOuNMbMUGlBeX8ibEfW3RuqekH7I8off78qvKLcQJS1T2yGL5rHT9xuIqmf2Z8u7IZvyv5C0k3o5oxpz+g/mHZC345EaTjg+3fyuxGpPzDlA9u+ofIFIWQ4tyJNlyzlBlH/mfMDHyKW6DVwTR4AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="create project" title="create project" src="/static/df1ec023bef04c97153b36d2ffe48e50/7d769/create-project.png" srcSet="/static/df1ec023bef04c97153b36d2ffe48e50/5243c/create-project.png 240w,/static/df1ec023bef04c97153b36d2ffe48e50/ab158/create-project.png 480w,/static/df1ec023bef04c97153b36d2ffe48e50/7d769/create-project.png 960w,/static/df1ec023bef04c97153b36d2ffe48e50/d6ebf/create-project.png 1366w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">프로젝트 최상위 경로에 있는 <code class="css-0">deps.edn</code> 을 다음과 같이 변경합니다.
<code class="css-0">deps.edn</code>은 클로저에서 사용하는 패키지 매니저인 deps 의 설정 파일입니다.
이 글에서는 자세히 소개하지 않습니다.
자세한 내용은 <a href="https://clojure.org/guides/deps_and_cli" class="css-h4jr85">공식문서</a>를 참고하세요.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><style data-emotion-css="apvfmm">.css-apvfmm{display:none;background-color:rgba(47,133,90,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-apvfmm{font-size:14px;}}@media screen and (min-width:768px){.css-apvfmm{font-size:16px;}}.css-apvfmm[disabled]{cursor:not-allowed;}.css-apvfmm:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#2f855a);color:var(--theme-ui-colors-white,#fff);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<style data-emotion-css="1gy8470">.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:paths</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;src&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:deps</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">ring/ring </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:mvn</span><span class="token plain">/version </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;1.9.3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">deps.edn</em></p><p class="css-64lq4m"><code class="css-0">deps.edn</code> 파일을 만든 뒤 IDE 프로그램인 인텔리제이에서 &#x27;Add as Clojure Deps project&#x27;를 클릭하여
프로젝트에 <code class="css-0">deps.edn</code> 파일을 설정 파일로 등록하여 IDE와 연동합니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:377px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:169.58333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEtklEQVRIx41V23ITRxDdfwlFEiihS4xBwrJs7Wpn9q6933XFYAypcqV4S1WSIvBL+QIeEvNRJ9UtrRAGK3k4Nbs7PWdOd5+ZVQzTgGnZcNwAcR7h4s0KaVYgy3NYtg1pmDDM/w/l3mMdPdXD6pdf8UxkGFkFxm6B1omJ+8caHgzkQfxI6Av80Jf4vi+h3Htq4sgJsbi+hubNoXkFVMPHUPo4NUL0TiV6Q3E3TiUen5u4/0THd08kFC+Yory8QpyUqOdzBFECXRoIoxhplnHaVBLL2owNPr9bcBwXE11weZSJNOEurxAkGaIkgzMNkBYVwiTn57EuQTGa2AO/G/y9ni8hLRdnqs5zCk2oE8EBqjAwGmtYrC9Q1HPkZQ1pOVB1yfO3oRsW5qvnMB0PZ+qEN2CF+xhvyaM0RzVfIslLlLMFynqOcjZHVtb8jcgojjakdeeazu+scD8FmkiykgnmyzWnTYulafNigmG7/I3i82qTBa3bKWxSaBRSABE5Ux+WO2WChkQ3zB0M2+G609xO4bcICRRINcyrGWbLNTdqP45GYdoI4nSjUD2gUNMlXD/kWiVZwQvVbbdvQ9ONXcp3KpwIg/2Y5AXCOIXleJyu2ELfA21GKY81cZjQ9QMmI9ACmuPa8fglISk8SEjpTcMYcVbAjxKuHz1T523P33mQNqby/GdTWOE0gBdE8PwQ072R7NOoIyKKoTIcVEighsxXazYyqQyTjDvKG27XEOHq+Qu21hcn5Zu2SXPUixXbhtKkRabt8bh/qsivXx29r2wjDE4viBP2I5GTymh7gajbOout0ffX3eFDA34YswdppHTjNOdNiDxKN8STvSN7sIaaayApSj4pmw7nnLbTNCqI2PhkGeo+1fLulDUBvbIQVTmyomZ1fpjwYlrUgK45qiddX7TZQULVlkjKku9FakpRzXZ1JEWULrmAFBMpWWjjwzuaoksLjufDj2JObefHMGZiOpZUW1LWnJw7m0I7EUlWVFw/UkUqyY+krrlcKY7KQDHWvm0aos/ekmwJPmqzBZuZzzJfV5uzux/fXA5fHL3dP0OXvJO6PZ/OtrMEmwy93fz2jWPw5bAlTIuS06DaUIHpb0cjpUL/lOaCpZFqefun1ahshCiqNsHZ+TlORyPoQjKmQchGprSpAZQ2qSRfUn33VTKpMDBWVaiaBsUQOkwpcD4aQegTDJ4+wbkdwI1S+GHEFqHuUhYmXaTNL1eXTEhZUDmITEoJ5ZkmMNQljocjnIw1HA1OcCYsLkFRL7C6eMn/aGpQnG3Kk+QVz+uGDdsLIEwHz06GGAwGUFr9IR72T9EajPCwP0J7cArLtmC7LlzPgx8GcDwPlmPD8TbfGNMphCGh6RMIKdDr9dBqtaB0220wOjQ+QqfdxeryLar1NYrFz0hnr1Gvr+GnF5jYOXSnYAiCW0J3S0ycCkfHfXQ6bSidbheEbreHTruF7vEY1tVfWPx2g9fvP+HijxtcvrvBmz8/YfX733jz4QYv3v2DV+8/4fWHG0RvP0K9/IijYYjOowdQukTY6aAZO90egnSBYv4S9fIVquUlknKNenmJrL7g92r5CnGxxnx9xXHSSfDT0TE67Tb+BQEvBs2RUnDRAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="deps 추가 방법" title="deps 추가 방법" src="/static/885bb5a8868e3856fdad891164f0dee8/fab5c/add-as-clojure-deps-project.png" srcSet="/static/885bb5a8868e3856fdad891164f0dee8/5243c/add-as-clojure-deps-project.png 240w,/static/885bb5a8868e3856fdad891164f0dee8/fab5c/add-as-clojure-deps-project.png 377w" sizes="(max-width: 377px) 100vw, 377px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><h2 class="css-1k3503y"><a name="launch-web-server-in-localhost" class="css-h4jr85"></a>로컬호스트에 웹서버 띄우기</h2><p class="css-64lq4m"><code class="css-0">src</code> 디렉터리를 생성하고, &#x27;mark directory as source folder&#x27;를 클릭하여 소스 폴더로 설정합니다.
소스 폴더 안에는 <code class="css-0">hello_world</code> 라는 이름으로 앱 디렉터리를 지정합니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:696px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:62.5%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABv0lEQVQ4y5XRy27TQBiGYd8JBVVs2FChQhZIoYntmbEdj88en9LGblSC1CJRqQvugKt+USalK6Dp4tFoDvpm5v+dpDTEaY5OMyKdEMYaXwaocIUIoifycfRVaMnHNRnu18MDFeKYacd4e884XbOZtkzbG6I4QWc5cZKh05w4zQ6SjJVOiXT6NE+y4nA+zQlWGscVkn68oWx68qqmbntK07D05V+5Qln/2nP8IOLq+oZuveFyvLa3L4XCkyGeDHDFyzjxKiIav5H1V6RJgutLfCHxfIEnBFIFqCBAqeM4J+eSN/OShdkxk4b3i5R384SzZc6ZW/D6o+LVueTkSM7pTPF2JviwTInGO1R/x+ewYa4HZqrm9JN8EUcqRRTHLJc+Xx+27H58p6oMlTFEsUZIab+8//oxnIUnMMNEM2yom47KNHTDJTorDp2zjVFHc75cuDz8+sn29t6GlaalqA0XnmDhSdvpP1zb/eC/HN1WdNPAerOh7dc0/WCZticraxY2WDyFPRfqVNsd5TDSdD1Nv6ZqOuq2ox3WtgRZUZGXNSqKj3th0E3o9pIsL0iLysrKytZwbx9W1g1hnNiaPhf4G6EW59D3xZWIAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="프로젝트 폴더 구조" title="프로젝트 폴더 구조" src="/static/b9179a7041de4128ab0188d53df1790f/871fd/project-layout1.png" srcSet="/static/b9179a7041de4128ab0188d53df1790f/5243c/project-layout1.png 240w,/static/b9179a7041de4128ab0188d53df1790f/ab158/project-layout1.png 480w,/static/b9179a7041de4128ab0188d53df1790f/871fd/project-layout1.png 696w" sizes="(max-width: 696px) 100vw, 696px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><ul class="css-13z3j25"><li class="css-0">폴더 이름에 하이픈(-) 이 들어있으면 &quot;Namespace name does not correspond to filesystem hierarchy&quot; 라는 오류 메시지를 보실 수 있습니다.
하이픈 대신 언더바(_)를 사용해야 합니다.</li></ul><p class="css-64lq4m">이제 웹 서버에 들어온 요청을 넘겨받아 적절한 처리를 하고 응답을 넘겨줄 핸들러를 정의할 차례입니다.
핸들러를 정의할 클로저 namespace 파일을 생성합시다.
저는 core.clj 라고 이름 지었습니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:status</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;text/html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Hello World&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">namespace(ns) 의 폴더명에 섞인 언더바가 하이픈으로 변경된 것에 주의</em></p><p class="css-64lq4m">이제 인텔리제이에서 REPL을 실행할 수 있게 설정합시다. 특별히 수정할 것 없이 이름만 정해주면 됩니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:87.91666666666667%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxElEQVQ4y6VUy3LbMAz0B/WSSy+dxJYoUnyLIvVo3B77/7+wHUCm6sxEiTM9YAgB4GJBADo9ty2ezy3OTXcnAi8XgUvTQUgNIXs+GyFvvhZSKcwhIHYSQnW4yA6i63FK1xl5mtEbu4t2AcZHDGVCWX4izwvKssIPI5Rx7LM+QhsL6zx/k5DvFK5/IIZXPJ0dvv3Q+H4xsCHChgFxLOit50A6q04+FxOU3cBId2HYANveoJEGrTJolEWjNF+sbELKSNPMIDWRCRujXQ8RUlt0vcGJFKkNGxQbNQeWeUVMmcW4gH5n+Y/tvf4GkBSSqlMAvRmVUn2PCN0/BNwe2e72R+R9hkpzl/O8IpUZQy6IY97Zfh3wdhofmCmBU3M+kw8BqdQ6GjxjLuyzWRvwJYaUkcaGQOvs/RdDHiHjmFUFfaQ57wIKpXnqqSE0yGS3MfGAH7GlGVUfAdobINuVhk8Z47wgpJGf4q3ckjl/XDKVWveYvqnjbkgbQAW9A6dYunPM0EfkaeHVamXP3SaGtNMjSdXpLNMG6OPngBTIv7FcsF5/Y73+wrS+8u9snBaOoQTEslZzuHoEVrNzWSljyBPrRx2mXf4LxdWehJgVATYAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="REPL configuration" title="REPL configuration" src="/static/99fa34e1b48c74fa5b0e45eab006a983/7d769/how-to-configure-repl.png" srcSet="/static/99fa34e1b48c74fa5b0e45eab006a983/5243c/how-to-configure-repl.png 240w,/static/99fa34e1b48c74fa5b0e45eab006a983/ab158/how-to-configure-repl.png 480w,/static/99fa34e1b48c74fa5b0e45eab006a983/7d769/how-to-configure-repl.png 960w,/static/99fa34e1b48c74fa5b0e45eab006a983/87339/how-to-configure-repl.png 1440w,/static/99fa34e1b48c74fa5b0e45eab006a983/f8a0f/how-to-configure-repl.png 1880w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">이제 <code class="css-0">run</code> 메뉴에서 REPL을 실행할 수 있습니다.</p><p class="css-64lq4m">REPL에서 아래의 코드를 입력하여 로컬 환경에서 웹 서버 애플리케이션을 띄워봅시다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">use </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;ring</span><span class="token plain">.adapter.jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">use </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;hello-world</span><span class="token plain">.core</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> server </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">                                </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">.stop server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">.start server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">REPL</em></p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:746px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:26.25%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCElEQVQY05XLTU/CQBSF4f4IpTAzLVg+2oIDQ6mtJSISjG6guiBE0RghaEyM+v9Xr7ESdeviyck9J9c67a4Y1B/QtSXGW6GrS9LmmkDl+GpO4OS0xIzIvyPrbQtD88QkfeU8e+MkemZotqR6w6F3i5WEC0x1gS9zQnlFW10TN+4J3JzAmRdaaobxVyR6TarXDPtbLkbvXI4+GCcvZL0NqX5E12+w0viMLJkyMGOOj6Ykgwl+M0KJAFe1fzgyLDpHBMiKT7nULAi7VdyqEuDKEMuYmF43ptMx9PsJWkd4no+ouEhZQ4o/5G8qebCz63eb1aiH7O8pynYVe9/BLrmIyteDhxLed/7DJ0/gl6dAcVIaAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="response" title="response" src="/static/44702130a5623d10edc464807109f074/ff233/result-simple-response.png" srcSet="/static/44702130a5623d10edc464807109f074/5243c/result-simple-response.png 240w,/static/44702130a5623d10edc464807109f074/ab158/result-simple-response.png 480w,/static/44702130a5623d10edc464807109f074/ff233/result-simple-response.png 746w" sizes="(max-width: 746px) 100vw, 746px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">잘 되었다면 <code class="css-0">def server ...</code> 를 REPL 에서 실행하는 순간 웹서버가 시작되는 것을 로그에서 확인할 수 있습니다.
웹 브라우저를 이용해 웹 서버의 URL에 접속하면, 핸들러에 정의해 둔 메시지가 응답되는 것을 확인할 수 있습니다.</p><ul class="css-13z3j25"><li class="css-0">Ring 의 응답 데이터 구조</li></ul><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:ssl-client-cert</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:protocol</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;HTTP/1.1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:remote-addr</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;127.0.0.1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sec-fetch-site&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;host&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;localhost:3000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;user-agent&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:90.0) Gecko/20100101 Firefox/90.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cookie&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sec-fetch-user&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;?1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;connection&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;keep-alive&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;upgrade-insecure-requests&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;accept&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;accept-language&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;ko-KR,ko;q=0.8,en-US;q=0.5,en;q=0.3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sec-fetch-dest&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;document&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;accept-encoding&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gzip, deflate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">           </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sec-fetch-mode&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;navigate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:server-port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:content-length</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:content-type</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:character-encoding</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:uri</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:server-name</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;localhost&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:query-string</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain"> #object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">org.eclipse.jetty.server.HttpInputOverHTTP 0x6a5c0707 </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;HttpInputOverHTTP@6a5c0707[c=0,q=0,[0]=null,s=STREAM]&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:scheme</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">  </span><span class="token operator" style="color:rgb(127, 219, 202)">:request-method</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m">이제 Ring 이 제공하는 <code class="css-0">response</code> 함수를 활용해봅시다. <code class="css-0">ring.util.response</code> 는 아래와 같이 구현되어 있습니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> response</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Returns a skeletal Ring response with the given body, status of 200, and no</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token string" style="color:rgb(173, 219, 103)">  headers.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">body</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:status</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain">    body</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">ring.utils.response/response 구현체</em></p><p class="css-64lq4m">빈 헤더와 HTTP 상태 코드 200, 그리고 사용자가 넘겨준 body를 반환하도록 정의되어 있습니다.
이를 이용해 우리가 앞서 만든 코드를 아래와 같이 수정 할 수 있습니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;asd\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m">이 외에도 redirect, created, bad-request 등 HTTP 응답 상태 코드에 대응하는 여러가지 응답 함수가 있으므로 상황에 따라 사용할 수 있습니다.
HTTP 응답 헤더도 설정할 수 있습니다. 만약 Content-Type 헤더를 <code class="css-0">application/json</code> 으로 설정하여 응답을 주고 싶다면 아래와 같이 핸들러를 정의합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">header </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;asd\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;application/json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m">헤더를 설정하는 또 다른 방법으로, 아래와 같이 <code class="css-0">content-type</code> 함수를 사용하는 것도 가능합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response content-type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">content-type </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;asd\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;application/json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2 class="css-1k3503y"><a name="setting-up-middleware" class="css-h4jr85"></a>미들웨어 설정해보기</h2><p class="css-64lq4m">모든 핸들러가 <code class="css-0">Content-Type</code> 헤더를 <code class="css-0">application/json</code> 으로 설정하려면 어떻게 해야 할까요?
각 핸들러마다 헤더를 명시적으로 설정해줘도 되지만, 미들웨어를 이용하면 일괄로 처리할 수 있습니다.
<code class="css-0">Content-type</code> 헤더 설정을 미들웨어에서 처리해봅시다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:status</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;text/html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">   </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;asd\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> wrap-content-type </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">handler content-type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">fn</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">handler request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">assoc-in response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> content-type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wrap-content-type </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;application/json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">미들웨어를 추가한 core.clj</em></p><p class="css-64lq4m">애플리케이션이 실행될 때 <code class="css-0">wrap-content-type</code> 이 <code class="css-0">handler</code> 함수를 감싸므로 <code class="css-0">handler</code> 함수 안에서 헤더 설정을 명시하지 않아도 됩니다.
애플리케이션에 미들웨어를 등록한 걸 반영하기 위해서는, <code class="css-0">run-jetty</code> 의 실행 대상을 <code class="css-0">handler</code> 대신 <code class="css-0">app</code> 으로 바꿔야 합니다.
서버를 실행시켜 둔 상태라면 서버도 다시 로드해야 합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">.stop server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">use </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;hello-world</span><span class="token plain">.core </span><span class="token operator" style="color:rgb(127, 219, 202)">:reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> server </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty app </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">                            </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">.start server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">미들웨어를 적용하기 위해 (run-jetty handler ...) 에서 (run-jetty app ...) 으로 변경한 것에 주목</em></p><p class="css-64lq4m">웹 브라우저에서 웹 서버에 다시 접속해보면, 응답 헤더가 올바르게 전달되어 브라우저에서 데이터를 JSON으로 인식하는 걸 확인할 수 있습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:736px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:34.583333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABdklEQVQoz5WOTUsbYRSF5z/4hWKisQpJ1EiojVIEN2IMbUW6qNGqRe2+CG78D0JxEaogKMGgQUMLpYv6gfRfWESQ+NHMZEyNJrHOzPs+ZUYtdGfO5eGecxeXo3S1RAk2vSXYNEKHJ0qgwc6jeF2v8LkH8boGnf3gQ60TPLunOzBJqO0dnf5xJ3c0j6B4a4dorX+Du/IlvrrXBFzDBD1jNFYN4KmO8KTmBQ2VYQd3RZinPvvBFH3PPxDpnaW/Z4ZQ2zTd7e/xN0ZRPi7tMTe/zeLKD+LLX1j+tEVsIUEi/o211a8sxTb4vLlPKrlLKrn3j2Rim43Ed2dvru842HeleCtI50wEcF3Io2kqqpbBMG8plgqOL0fKSfoUPXPO2ekZWe2C43Sa818ZVDXL0dExBweH5PNXXF7m0fULsppOLvcbyxIYholp/o9iWpKfqoFeECAFfw6vMDIlpD1CIqVECBvxKBQpoWRIDEs6leWNhTTFXX9J2foLNqS18BTKcb4AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="미들웨어를 추가한 결과" title="미들웨어를 추가한 결과" src="/static/cd378d748440738814140607334c2fd3/473d6/result-middleware.png" srcSet="/static/cd378d748440738814140607334c2fd3/5243c/result-middleware.png 240w,/static/cd378d748440738814140607334c2fd3/ab158/result-middleware.png 480w,/static/cd378d748440738814140607334c2fd3/473d6/result-middleware.png 736w" sizes="(max-width: 736px) 100vw, 736px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">미들웨어를 통해 자동 리로딩 기능을 설정할 수 있습니다.
REPL을 이용하여 서버를 띄웠을 때는 변경을 반영하기 위해 서버를 재시작 해야했습니다.
자동 리로딩을 이용하면 변경을 파일에 저장하면 서버를 재시작 하지 않아도 변경이 반영됩니다.
개발 편의성을 위해 설정해 봅시다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.adapter.jetty </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">run-jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.reload </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:status</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">       </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;text/html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">       </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;asd\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> reloadable-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">      wrap-reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> -main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty #</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;reloadable-app</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">자동 리로딩을 적용한 core.clj</em></p><p class="css-64lq4m">자동 리로딩을 설정하려면 <code class="css-0">ring.middlewrae.reload/wrap-reload</code> 를 불러와야 하고,
<code class="css-0">(defn -main [] ())</code>를 선언하여 프로그램 실행 지점을 만들어주어야 합니다.</p><p class="css-64lq4m">만약 기존에 REPL로 웹 서버 애플리케이션을 띄워둔 게 있다면 꺼주어야 합니다.
그리고 프로그램 실행 지점을 통해 실행합니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:858px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:21.25%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAzklEQVQY0z3PS27EIBCEYZ8mQGPApmnA88hISVbZ5v5n+aPxRFmUulel+pafY+NbC9Yyx+5JudDmDa0rW3Y45/HO4f0z/kwIQggBkYAERxQhxnje5XM27lpRTTxG4GiZr8fBbRSsK9Yn83JlHleaDWwMWk3spVK2yj4fyFrwXpAYWUobFDViypQc0Ryw/EYtK9uuNOtnWR/z/K0P2r7xPj8wPbhfBtee6fZcKSy1GVWNnNKLIhEv8Z91Mv/I4SQ7Ylypm5JTQZNj7ILWV+Ev59l8vf9WfpgAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="run with main" title="run with main" src="/static/ab74cf77d57a8e522e88ffbbafa796f0/bca77/run-with-main.png" srcSet="/static/ab74cf77d57a8e522e88ffbbafa796f0/5243c/run-with-main.png 240w,/static/ab74cf77d57a8e522e88ffbbafa796f0/ab158/run-with-main.png 480w,/static/ab74cf77d57a8e522e88ffbbafa796f0/bca77/run-with-main.png 858w" sizes="(max-width: 858px) 100vw, 858px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">이제 자동 리로딩이 잘 동작하는지 확인하기 위해 핸들러 <code class="css-0">:body</code> 를 바꾸겠습니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">.</span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:status</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">       </span><span class="token operator" style="color:rgb(127, 219, 202)">:headers</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Content-Type&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;text/html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">       </span><span class="token operator" style="color:rgb(127, 219, 202)">:body</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;{\&quot;test\&quot;: \&quot;foobar\&quot;}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain">.</span></div></code></pre></div><p class="css-64lq4m">파일을 저장하고 웹 브라우저에서 새로고침을 두어번하면 변경한 응답이 반영되어 있습니다.</p><h2 class="css-1k3503y"><a name="serving-static-resources" class="css-h4jr85"></a>정적 자원을 서빙 해보기</h2><p class="css-64lq4m">이제 핸들러를 이용해 정적 자원을 응답하도록 설정해 봅시다.
여기서 소개하는 것과 똑같은 구조가 아니어도 되지만,
편의상 프로젝트 최상위 경로를 기준으로 아래와 같은 구조가 되도록 <code class="css-0">resources/public</code> 폴더를 만들겠습니다.</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">/app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  /resources</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    /public</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  /src</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    /hello_world</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">      core.clj</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  deps.edn</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">폴더 구조</em></p><p class="css-64lq4m"><code class="css-0">resources/public</code> 에 서빙할 정적 자원을 넣어두시면 됩니다. 아래와 같이 간단한 <code class="css-0">index.html</code> 파일을 만들어 넣습니다.</p><div class="gatsby-highlight" data-language="html"><pre class="prism-code language-html" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-html"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token doctype punctuation" style="color:rgb(199, 146, 234);font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:rgb(199, 146, 234);font-style:italic">DOCTYPE</span><span class="token doctype" style="color:rgb(199, 146, 234);font-style:italic"> </span><span class="token doctype name" style="color:rgb(199, 146, 234);font-style:italic">html</span><span class="token doctype punctuation" style="color:rgb(199, 146, 234);font-style:italic">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">html</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">ko</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">meta</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">UTF-8</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">title</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">index</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">title</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  Clojure time!</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">html</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">resources/public/index.html</em></p><p class="css-64lq4m">지금은 라우팅 없이 하나의 핸들러 모든 요청을 처리하고 있습니다. 핸들러를 아래와 같이 수정합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.adapter.jetty </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">run-jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.resource </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">slurp</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;resources/public/index.html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> reloadable-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wrap-resource </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;public&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> -main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty #</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;reloadable-app</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">core.clj</em></p><p class="css-64lq4m">위의 코드에서 보듯, 정적 자원을 서빙 하기 위해서는 <code class="css-0">wrap-resource</code> 가 필요합니다.
<code class="css-0">wrap-resource</code> 는 파라미터로 핸들러와 경로를 받습니다.
<code class="css-0">root-path</code>를 <code class="css-0">public</code> 으로 지정합니다.
소스 코드를 저장하여 웹 서버가 리로드 되도록 하고, 웹 브라우저에서 <a href="http://localhost:3000/index.html" class="css-h4jr85">http://localhost:3000/index.html</a> 에 접속해 봅시다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:804px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:21.666666666666668%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA70lEQVQY06XLS0sCYRjF8fkOrTKJCJrKppimDCpoQhpLSxS1EmaUhIIWXYjssgmiT1bQPotq6DOMzu19W/9jbNmyB36csziPYowVmUvbTA/XB7TUPrPpPUaHLPQJm+xMm2zmgCWtzdrCMav6EcZUk8VMC2PSQVdt5lUHbbyBOlJFsVaa1PMdCuYJO+unlHMXbJtn5JYPKW1cUtm6ppy/olG5o7X7gFO7p1q4oVa8HUh6omR12DTPUZ4en3l7fefz44vuy2+GoSAKJYEf4/sRgR/R74V4XkDPC/D70R/JNvlTXNdFSkEcRwghkN+S/9wPIQri2lmpCLAAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="template response" title="template response" src="/static/8f4d88cfa5bb5f1dab28585ebe91a403/84c27/result-static-resource.png" srcSet="/static/8f4d88cfa5bb5f1dab28585ebe91a403/5243c/result-static-resource.png 240w,/static/8f4d88cfa5bb5f1dab28585ebe91a403/ab158/result-static-resource.png 480w,/static/8f4d88cfa5bb5f1dab28585ebe91a403/84c27/result-static-resource.png 804w" sizes="(max-width: 804px) 100vw, 804px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m"><code class="css-0">index.html</code> 파일의 내용이 잘 출력되는 것을 확인할 수 있습니다.</p><h2 class="css-1k3503y"><a name="params" class="css-h4jr85"></a>파라미터들 다루기</h2><p class="css-64lq4m">다음으로 URL의 쿼리 파라미터와 폼 파라미터(application/x-www-form-urlencoded)를 읽어 처리하는 방법을 알아봅시다.
먼저 URL의 쿼리 스트링을 파싱하는 미들웨어인 <code class="css-0">ring.middleware.params/wrap-params</code> 를 추가합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.adapter.jetty </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">run-jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.session </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.params </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:keys</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">query-params form-params params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:query-params</span><span class="token plain"> query-params</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(127, 219, 202)">:form-params</span><span class="token plain"> form-params</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">                  </span><span class="token operator" style="color:rgb(127, 219, 202)">:params</span><span class="token plain"> params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> reloadable-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">      wrap-params</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">      wrap-session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> -main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty #</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;reloadable-app</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><code class="css-0">wrap-params</code> 는 요청에 <code class="css-0">:query-params</code> 와 <code class="css-0">:form-params</code>, <code class="css-0">:params</code> 를 각각 키와 값으로 추가해줍니다.
이름에서 알 수 있다시피 <code class="css-0">query-params</code> 는 URL 쿼리 스트링을,
<code class="css-0">form-params</code> 은 폼 데이터를 그리고 <code class="css-0">params</code> 는 모든 파라미터를 파싱하여 담고 있습니다.
웹 서버를 리로드하고, 웹 브라우저에서 URL에 쿼리 스트링을 입력하여 접속하면 <code class="css-0">query-params</code> 와 <code class="css-0">params</code> 에 의도한 값인 <code class="css-0">foo: 1</code> 이 들어감을 볼 수 있습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:13.333333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwElEQVQI1yWJy0rDQAAA8x2KBZOYdDf7yGOzZKstQlVSbStE1Ivi0V7Ei/8/0u1hGJhJqtkravZGm34iLiaK8z3F2Q51+c6iPkRu/Q+b1R/r4Zfr5sBNc+zf1MUXKv1AH8lOTnQ+orORTjwj0ntkeodI18jsAV0+YcUOZya8faE3E3a+jb2W+/hkPmLKLTLfUF09koRhiXOBEFZY62gbjzUOVdVIaRHC0PcB7xfRRrfMS4XrBkJYolUTuxAaYzr+AVNaYo6l7u1QAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="query params response" title="query params response" src="/static/a713776934b804f1dd2f691960843c88/7d769/result-query-params.png" srcSet="/static/a713776934b804f1dd2f691960843c88/5243c/result-query-params.png 240w,/static/a713776934b804f1dd2f691960843c88/ab158/result-query-params.png 480w,/static/a713776934b804f1dd2f691960843c88/7d769/result-query-params.png 960w,/static/a713776934b804f1dd2f691960843c88/4dc7d/result-query-params.png 1066w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">마찬가지로 x-www-form-urlencoded 데이터를 전달하면 <code class="css-0">form-params</code> 에 요청 내용이 입력되는 것을 확인할 수 있습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:64.16666666666666%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVQ4y6VTQW6EMAzM/3/RUx/TQx+wh6qXaoFNYEmcQJZkqnFhxWppL400inHMxI7HZhgGXK9XxBjhvUff93DOqU2fRIGIqK3fIk/wQVBzxMubwLRti85eNJjE5/NZYXsHLwHBe4QQFLxkT74hSFTC1/cIM6WEcQqIKYF2kIC8ZIz2jJgC5jkj54x5npFSwu12w1/LsOS2adB1nWbmrFMCXbU+/VBrfcDeX2qF4Y0shSRHwfpG3j+RcbHcy+UCJlVKUQ5zOp3QNM2vt/MnNmnLen9Okg2bzzCIwXvnHjw7yp5gddu73gmPAv8Dc9iq+nsT6kGjHroc/agpUxZRBCEKcrkhxaS+B+J1X5ZF5eUnQZwTwhwVgywwX58fKheKmrDOYvRebdc7JWWXuecY7heUWrDsUFCRcoXxIaDtOlhrtZuUwTiOanOKKAna3G3bYJqm+8ildRhknSLU8vOGSymawYZl1ZRmlbOWyH2a5vvzkHg7p015USnfkRP4BYDmSQsAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="form params response" title="form params response" src="/static/3cb0c2e228a61bde7483967ef894ffc1/7d769/result-form-params.png" srcSet="/static/3cb0c2e228a61bde7483967ef894ffc1/5243c/result-form-params.png 240w,/static/3cb0c2e228a61bde7483967ef894ffc1/ab158/result-form-params.png 480w,/static/3cb0c2e228a61bde7483967ef894ffc1/7d769/result-form-params.png 960w,/static/3cb0c2e228a61bde7483967ef894ffc1/e9407/result-form-params.png 1368w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">하지만 <code class="css-0">wrap-params</code> 는 <code class="css-0">x-www-form-urlencoded</code> 형식의 데이터만을 파싱할 수 있습니다.
<code class="css-0">ring.middleware.params/wrap-params</code> 의 주석에 자세한 내용이 적혀 있습니다.</p><style data-emotion-css="1iafhed">.css-1iafhed{border-left-color:#3BBD5A;border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:1rem;}.css-1iafhed p{font-style:italic;}</style><blockquote class="css-1iafhed"><p class="css-64lq4m">Middleware to parse urlencoded parameters from the query string and form
body (if the request is a url-encoded form).</p></blockquote><p class="css-64lq4m"><code class="css-0">multipart/form-data</code> 형식의 데이터를 처리하려면 <code class="css-0">ring.middleware.multipart_params/wrap-multipart-params</code> 를 사용해야 합니다.
그러면 <code class="css-0">wrap-multipart-params</code> 를 이용해 파일 업로드를 처리해 봅시다.
파일을 올릴 폴더를 준비합니다.</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">/app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  /resources</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    /public</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  /src</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    /hello_world</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">      core.clj</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  deps.edn</span></div></code></pre></div><p class="css-64lq4m">여기서는 이전에 만들어둔 <code class="css-0">public</code> 폴더를 그대로 사용하도록 하겠습니다.
<code class="css-0">wrap-resource</code> 를 미들웨어에 추가하고 자원을 저장할 경로로 <code class="css-0">public</code> 폴더를 지정합시다.
파일 업로드를 처리할 준비가 끝났습니다.
이제 업로드 요청을 받았을 때 파일이 어떤 식으로 <code class="css-0">request-map</code> 에 실리는지 살펴봅시다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.adapter.jetty </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">run-jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.resource </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.params </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.multipart-params </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-multipart-params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">params </span><span class="token operator" style="color:rgb(127, 219, 202)">:params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">prn</span><span class="token plain"> params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> reloadable-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">      wrap-params</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">      wrap-multipart-params</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wrap-resource </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;public&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> -main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty #</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;reloadable-app</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><br/><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;test&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:filename</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;20210805_145756.jpg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">         </span><span class="token operator" style="color:rgb(127, 219, 202)">:content-type</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;image/jpeg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">         </span><span class="token operator" style="color:rgb(127, 219, 202)">:tempfile</span><span class="token plain"> #object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">java.io.File 0x805f6d6 </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/var/folders/2d/t4tt59310811tbf48s8xbnpc0000gn/T/ring-multipart-15013718029732306064.tmp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">         </span><span class="token operator" style="color:rgb(127, 219, 202)">:size</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">133949</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">prn 결과</em></p><p class="css-64lq4m"><code class="css-0">request-map</code> 안에, 키(<code class="css-0">test</code>)에 업로드된 파일의 정보가 들어옵니다.
<code class="css-0">:tempfile</code> 의 값에 있는 객체를 이용해 파일 내용을 읽거나 저장 할 수 있습니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">.</span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">clojure.core </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="color:rgb(127, 219, 202)">bean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">              </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">clojure.java.io </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">copy file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">              </span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">params </span><span class="token operator" style="color:rgb(127, 219, 202)">:params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">save-path </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/tmp/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">        tmp-file </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">get-in params </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;test&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:tempfile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">                     </span><span class="token keyword" style="color:rgb(127, 219, 202)">bean</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">                     </span><span class="token operator" style="color:rgb(127, 219, 202)">:path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">copy </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file tmp-file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">str</span><span class="token plain"> save-path </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">get-in params </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;test&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">업로드한 파일과 동일 이름으로 서버의 <code class="css-0">save-path</code>에 저장</em></p><p class="css-64lq4m"><code class="css-0">:tempfile</code>의 값은 <code class="css-0">java.io.File</code> 객체입니다. 이 객체를 사용하려면 자바빈 객체의 속성들을
클로저의 맵으로 바꿔주는 <code class="css-0">clojure.core/bean</code> 이 필요합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">params </span><span class="token operator" style="color:rgb(127, 219, 202)">:params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">prn</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">bean</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">get-in params </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;test&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:tempfile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m">변경된 내용을 확인해봅시다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:path</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/var/folders/2d/t4tt59310811tbf48s8xbnpc0000gn/T/ring-multipart-8223890071443078384.tmp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:freeSpace</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">398616518656</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:parent</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/var/folders/2d/t4tt59310811tbf48s8xbnpc0000gn/T&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:directory</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:parentFile</span><span class="token plain"> #object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">java.io.File 0x660a21ea </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/var/folders/2d/t4tt59310811tbf48s8xbnpc0000gn/T&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:name</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;ring-multipart-8223890071443078384.tmp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:file</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">bean 에 의해 클로저 맵으로 변경된 java.io.File 객체</em></p><p class="css-64lq4m">올린 임시 파일이 저장된 경로와 파일명을 알아냈으므로,
<code class="css-0">clojure.java.io/copy, file</code> 을 통해 파일 객체로 변환하여 복사할 수 있습니다.
웹 브라우저로 파일 업로드를 테스트해보면 파일이 잘 올라가는 것을 확인할 수 있습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:340px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:23.333333333333332%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJklEQVQY022Qa0vCcBTG9w0kvG9zy93STTfdXF4apZAV0pUupBkmZiZCff9Xv9g/6FUvHs7hcHhukuKrFCs6fruL4waUVIOq7dJLRrTjAUHUQ9ZMciWNgrxPvqxTkHUx/4NUHRbIqiXqXsTxaIysWdSbIdFhwvnkhul8gWbUyGRl9vKKQCb3u6cE2WLlD6moZLpNWmEfL+jQCGJcPxLO/LBLK+qj6DbmQQPDaRCEXfEXxgM8PxKEim5RrpgimXCYDM/43H1x/zRjfHHF2+qD9WbHdvfN9GWBVWuSnJxyffvA7HUpUkwu71i+b+h0E8L4iMfnOav1FqceIJU0i7JqCKVUJe0rVUyh2B6NoINu1sSe3opKVThJq1HNOo7XxnIDvFZMxXb5AXmkmJHnKte/AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="서버에 올라간 파일" title="서버에 올라간 파일" src="/static/b8ed0e2e15e6d3b7f38947c5e9455003/32dd0/result-upload-file.png" srcSet="/static/b8ed0e2e15e6d3b7f38947c5e9455003/5243c/result-upload-file.png 240w,/static/b8ed0e2e15e6d3b7f38947c5e9455003/32dd0/result-upload-file.png 340w" sizes="(max-width: 340px) 100vw, 340px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><h2 class="css-1k3503y"><a name="session-and-cookie" class="css-h4jr85"></a>세션과 쿠키</h2><p class="css-64lq4m">이번에는 세션과 쿠키를 다뤄 보겠습니다.
<code class="css-0">ring.middleware.session/wrap-session</code> 과 <code class="css-0">ring.middleware.session/wrap-cookies</code> 가 필요합니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">ns</span><span class="token plain"> hello-world.core</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:require</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.adapter.jetty </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">run-jetty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.session </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.middleware.cookies </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">wrap-cookies</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ring.util.response </span><span class="token operator" style="color:rgb(127, 219, 202)">:refer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">session </span><span class="token operator" style="color:rgb(127, 219, 202)">:session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="color:rgb(127, 219, 202)">count</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> session </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        session </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">assoc</span><span class="token plain"> session </span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">inc</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">assoc</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:session</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">assoc</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:cookies</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:cnt</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> reloadable-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> handler</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">          wrap-session</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">          wrap-cookies</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> -main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">run-jetty #</span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;reloadable-app</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:port</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">                               </span><span class="token operator" style="color:rgb(127, 219, 202)">:join</span><span class="token plain">? </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m">먼저 웹 서버를 실행시켜 결과를 확인해 보겠습니다.</p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:832px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:71.25%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADBklEQVQ4y2WS22tcVRjFz1/QmRSSJu1M0kxCQmKTJjFCrQYfhCKlFgxi0dg38dIHER9VrJNkxkxTqODlxX/CB5/0QQUVLRHThBrT29TONed+zpw5Z+bcfjJ7qknphsVarP1d2N/+pKdGLzCbucj08VeZGrrAqbE3mEwvMjf+Os/MvMXCk+/w3PwlXlh4n+effpeFubc5PfMmJ0cvMpVZYnpkiakDkGZGzjI1fI6JobNMDnX0ecbSZ5jMnGN6bJHpsZeYP/EKp+eWODXzGrMTL3NyfJHJzHkmhl98DNITJ+YZGhwlnR5lMN3hkS6nRkinMqRSGY4dHebowHHBqWMZ4Q+KuMch9fam6Uke4XBPP4eT/SQTHT0g8L/f009Psp9Eoo9kok/woUN9wuugGzMgcqXLHy9TWLvK6sqn5HIFrq5fI5tdZTmbE3p1dY18riBi3rv8BZc+/Fzgg9yXFNbWyeeviNyV5Tzr69eQSqUyrVYbXTewLIsojlEUBUVR8f0A27YxLRu/3cIJoN4A2YEQ8FwXwzRRVQ1N04iiGGl7e1sUcl0P226IAv+dKIoO6BjiCOJOqYgwDETzON6/D4IAqVyuUKvVsRsOmm7QcJpCu14Lx3GFNkxL+Lph4nkepmkJbrkOba9Js9kUReM4RtLlOoZcxdZk2o6F37RoGAoEHo6h0jRVmpYmfFNXxWiq1ZoofrNkc6v2sJHriVdKP20V2bhr8N1GkT/uO1y/Y/DjjQrbFY8fblT4eUfm+m2dX3c1bpc1qpUK5XIVTVWp6gF1w0eRZdFElhWk8cK3PPuVwZmvLcYLCkeyMn1ZlcRHe8x+ppNaUZi4otL7iUL+exNiD9txcV2380gxz4NH+mbzNzbv7LHxd4WtosLNBya/75T5867MLzs6W//Y/PVAZ/Oeyp7pcb9Y5NbuLp3Zt1q+mLV3AJLZUBBLEPldFh3DLjq/SrTvxSFtP0C2fXTDwm/7YhPCMCQMIwHJdVsPf6iLKN7Xj3hAEIaUyhV275Wo1ffEnrbb/iP4F4GJTGnzMFvYAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="result session" title="result session" src="/static/985a3fa7b33e493a7e3c19f946d0646a/caa4e/result-session.png" srcSet="/static/985a3fa7b33e493a7e3c19f946d0646a/5243c/result-session.png 240w,/static/985a3fa7b33e493a7e3c19f946d0646a/ab158/result-session.png 480w,/static/985a3fa7b33e493a7e3c19f946d0646a/caa4e/result-session.png 832w" sizes="(max-width: 832px) 100vw, 832px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m"><code class="css-0">count</code> 는 세션이 유지되는동안 페이지를 새로고침할 때마다 1씩 증가합니다.
이는 세션에 담긴 값을 보여주는 응답에서 확인할 수 있습니다.
마찬가지로 응답 쿠키에 <code class="css-0">cnt</code> 도 잘 들어와 있고요.</p><p class="css-64lq4m">세션의 경우 요청에서 받아온 정보를 상태로 보관하고 있다가 응답으로 넘겨줄 수 있도록 구성되어 있습니다.
세션의 저장 방식으로는 Ring에서 지원하는 <code class="css-0">ring.middleware.session.memory/memory-store</code> 와
<code class="css-0">ring.middleware.session.cookie/cookie-store</code> 가 있습니다.
또한 사용자가 직접 정의한 저장 방식을 지정하는 것도 가능합니다.</p><p class="css-64lq4m">Ring의 기본 저장 방식은 <code class="css-0">memory-store</code> 입니다.
저장 방식을 변경하려면 미들웨어에서 <code class="css-0">:store</code> 값을 변경하면 됩니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">use </span><span class="token operator" style="color:rgb(127, 219, 202)">&#x27;ring</span><span class="token plain">.middleware.session.cookie</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wrap-session handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:store</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cookie-store </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:key</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;a 16-byte secret&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0"><a href="https://github.com/ring-clojure/ring/wiki/Sessions#session-stores" class="css-h4jr85">https://github.com/ring-clojure/ring/wiki/Sessions#session-stores</a></em></p><p class="css-64lq4m">쿠키의 경우 아래와 같은 옵션이 지원됩니다.</p><blockquote class="css-1iafhed"><p class="css-64lq4m"><code class="css-0">:domain</code> - restrict the cookie to a specific domain</p><p class="css-64lq4m"><code class="css-0">:path</code> - restrict the cookie to a specific path</p><p class="css-64lq4m"><code class="css-0">:secure</code> - restrict the cookie to HTTPS URLs if true</p><p class="css-64lq4m"><code class="css-0">:http-only</code> - restrict the cookie to HTTP if true (not accessible via e.g. JavaScript)</p><p class="css-64lq4m"><code class="css-0">:max-age</code> - the number of seconds until the cookie expires</p><p class="css-64lq4m"><code class="css-0">:expires</code> - a specific date and time the cookie expires</p><p class="css-64lq4m"><code class="css-0">:same-site</code> - Specify :strict,:lax, or :none to determine whether cookies should be sent with cross-site requests</p></blockquote><p class="css-64lq4m">다음은 쿠키 설정의 한 예입니다.</p><div class="gatsby-highlight" data-language="clojure"><pre class="prism-code language-clojure" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-apvfmm">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-clojure"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">.</span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">defn</span><span class="token plain"> handler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">session </span><span class="token operator" style="color:rgb(127, 219, 202)">:session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">session </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">update session </span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fnil </span><span class="token keyword" style="color:rgb(127, 219, 202)">inc</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">assoc</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:session</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">assoc</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:cookies</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:cnt</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">:count</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">                         </span><span class="token operator" style="color:rgb(127, 219, 202)">:secret</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token operator" style="color:rgb(127, 219, 202)">:value</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foobar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:secure</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:max-age</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">..</span><span class="token plain">.</span></div></code></pre></div><p class="css-64lq4m"><em class="css-0">core.clj/handler</em></p><p class="css-64lq4m"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:43.333333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/UlEQVQoz22OzWoTYRSG5ypq0nZTk0ZEx9rJX1MqXoRWWnUjIojeguBCXHkTbkQQEUNduNSNi6oUJVrS0s4k85dJJmnSSTI/mckjGdsUxAMv7/nO97yHI4gL6yydv4WYWqco3mNNesD1/ENKS/cRUxtcSW8ipjfOlNpEungXceEGl1M3yV29Ta7wmOK1RyxfuoOQmEmRPJeeai6ZYX72ArOJxeksZmbOmPnEJHOSS6RJJheZm83EjFDIr5LLlchKK+Syf5WVimd9tkg+vxpr8l6WSmTENZak1ROmRGGSlVZiRtir7qOqGpqmY5oNGqaFLCsYhollNanV6shyDUWpUavXUQ2LquZgNGx0XcdqNDnSTEzDpNVqI8hKHc8fcVqeH+A4fVzXYzQKY2+3OwyGQ447PcJgwkbAeJo57aJojCBXfzEaHE0/g6GDYTbi66xmK/bDQwXXdelYA2R9QN0e4vlhfIjrj2L3g5AoihBeb9u8++lSrri82vH59LuNf2zTbTcxVJle7AqELnp/zK7m07F9+l5Itx/QdYLYh14YHyR82PUpVzzeV1xefvMo73T4cdBku2ryeUfma9XiS6WOag/QeiGK4TJyAv5X4/EY4d/hvtnnaVnlxUedJ28PeLal8nyrxpvvXRpOxJ7hc9TzsHs+7Z5Pq+txPAimC/8AI18fS7cuyC8AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="저장된 쿠키" title="저장된 쿠키" src="/static/2e2c9812599a9701378f05b2b69ee7f1/7d769/result-cookie.png" srcSet="/static/2e2c9812599a9701378f05b2b69ee7f1/5243c/result-cookie.png 240w,/static/2e2c9812599a9701378f05b2b69ee7f1/ab158/result-cookie.png 480w,/static/2e2c9812599a9701378f05b2b69ee7f1/7d769/result-cookie.png 960w,/static/2e2c9812599a9701378f05b2b69ee7f1/87339/result-cookie.png 1440w,/static/2e2c9812599a9701378f05b2b69ee7f1/836e4/result-cookie.png 1644w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-64lq4m">위에서 설정한대로, <code class="css-0">secret</code> 키에 <code class="css-0">foobar</code> 라는 값이 들어있고,
<code class="css-0">Secure: true</code> 와 <code class="css-0">max-age</code> 가 최근 접속 후 1시간까지로 설정된 것을 확인하실 수 있습니다.</p><h2 class="css-1k3503y"><a name="end-of-document" class="css-h4jr85"></a>마치며</h2><p class="css-64lq4m">이것으로 클로저의 저수준 웹 서버 애플리케이션 개발을 해보았습니다.</p><p class="css-64lq4m">이 튜토리얼에서 소개된 내용의 대부분 <a href="https://github.com/ring-clojure/ring/wiki" class="css-h4jr85">ring wiki</a> 를 참고하고 정리한 것입니다.
더 자세한 내용이 필요하다면 참고하시기 바랍니다.</p><p class="css-64lq4m">감사합니다.</p><br/><br/><style data-emotion-css="13l3oqy">.css-13l3oqy{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;margin-left:0;margin-right:0;}</style><hr class="css-13l3oqy"/><br/><div style="display:flex;align-items:center"><img alt="Gravatar for dw.kim@greenlabs.co.kr" style="border-radius:25px;margin-right:8px" src="//www.gravatar.com/avatar/5fcd25b767bf5b8685d46a70e1eeab49?d=retro&amp;r=g&amp;s=50" srcSet="//www.gravatar.com/avatar/5fcd25b767bf5b8685d46a70e1eeab49?d=retro&amp;r=g&amp;s=100 2x" height="50" width="50" class="react-gravatar"/><div><p style="margin-bottom:-4px"><b>김동욱</b></p><p style="margin-top:-4px">백엔드 개발자</p></div></div></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2021<!-- --> by <!-- -->그린랩스<!-- -->. All rights reserved.</div><div><style data-emotion-css="zs3bie">.css-zs3bie{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#2f855a);-webkit-text-decoration:none;text-decoration:none;}.css-zs3bie:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://www.notion.so/greenlabs/a54bc92ea17b4d97b1c7366e997f5932" target="_blank" class="css-zs3bie">🍅 진행중인 채용</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FE2V3HW55M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-FE2V3HW55M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/introduce-a-ring";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7ced8295869eb983463c.js"],"app":["/app-6eb8c76412b9441ee715.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-0f40d706ebc58d78c1f6.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-7eb84e497c456181d7fa.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-8e9165e91ed5c4d689c6.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-156c1b71d9f01ae520cb.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx-8b1a3edd4df186029468.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx-25171962746b08aa2dac.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js"]};/*]]>*/</script><script src="/polyfill-7ced8295869eb983463c.js" nomodule=""></script><script src="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-91bb4cd3b6293ecc9d55.js" async=""></script><script src="/a762775feeb6986a7626165c092554dd56475b59-fe7bde6fd61e84b9dfa4.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-6eb8c76412b9441ee715.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/webpack-runtime-14c9fe1a26c0af28d845.js" async=""></script></body></html>